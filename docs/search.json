[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MY DREAMS",
    "section": "",
    "text": "Everyone has a dream…or at least most people have one. These are some of the dreams I have:\n\n\nBuying a house\nBuying a car\nFinding a great job\nTraveling to many countries\n\n\nIn order to achieve these dreams I have taken the following actions:\n\n\nStart a MS in Statistics\nSave and invest\nRead every day\nLearn a new language\nLearn Python\nWork on communication skills\n\n\nSometimes, I need a little motivation. So I look at pictures such as this one from Porche’s web site:\\\n![](https://images-porsche.imgix.net/-/media/18BDB8E5546C4BA4A12F88891D661876_76C4D93742CD42E8BEBE222C39477D82_911-carrera-4-gts-front?w=750&q=85&auto=format)"
  },
  {
    "objectID": "mp01.html",
    "href": "mp01.html",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "This is a small project in which I explore data from the National Transit Database with the objective of finding facts and insights from the data. Instructions and further details provided by my professor Mr. Michael Weylandt, Ph.D can be found here. We will be using data such as farebox revenues, total number of trips, total number of vehicle miles traveled, and total revenues and expenses by source.\n\n\nTo start with the project, I used the following code to download the data. Here we can see some tables being created with specific columns, then these new tables are joined.\n\nlibrary(tidyverse)\nlibrary(DT)\nsetwd(\"C:/Users/MT/Desktop/R Coding/STA9750-2024-FALL\")\n\nFARES &lt;- readxl::read_xlsx(\"2022_fare_revenue.xlsx\") |&gt;\n    select(-`State/Parent NTD ID`, \n           -`Reporter Type`,\n           -`Reporting Module`,\n           -`TOS`,\n           -`Passenger Paid Fares`,\n           -`Organization Paid Fares`) |&gt;\n    filter(`Expense Type` == \"Funds Earned During Period\") |&gt;\n    select(-`Expense Type`) |&gt;\n    group_by(`NTD ID`,       # Sum over different `TOS` for the same `Mode`\n             `Agency Name`,  # These are direct operated and sub-contracted \n             `Mode`) |&gt;      # of the same transit modality\n                             # Not a big effect in most munis (significant DO\n                             # tends to get rid of sub-contractors), but we'll sum\n                             # to unify different passenger experiences\n    summarize(`Total Fares` = sum(`Total Fares`)) |&gt;\n    ungroup()\n\nEXPENSES &lt;- readr::read_csv(\"2022_expenses.csv\") |&gt;\n    select(`NTD ID`, \n           `Agency`,\n           `Total`, \n           `Mode`) |&gt;\n    mutate(`NTD ID` = as.integer(`NTD ID`)) |&gt;\n    rename(Expenses = Total) |&gt;\n    group_by(`NTD ID`, `Mode`) |&gt;\n    summarize(Expenses = sum(Expenses)) |&gt;\n    ungroup()\n\nFINANCIALS &lt;- inner_join(FARES, EXPENSES, join_by(`NTD ID`, `Mode`))\n\nTRIPS &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet = \"UPT\") |&gt;\n            filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n            select(-`Legacy NTD ID`, \n                   -`Reporter Type`, \n                   -`Mode/Type of Service Status`, \n                   -`UACE CD`, \n                   -`TOS`) |&gt;\n            pivot_longer(-c(`NTD ID`:`3 Mode`), \n                            names_to=\"month\", \n                            values_to=\"UPT\") |&gt;\n            drop_na() |&gt;\n            mutate(month=my(month)) # Parse _m_onth _y_ear date specs\nMILES &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet=\"VRM\") |&gt;\n            filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n            select(-`Legacy NTD ID`, \n                   -`Reporter Type`, \n                   -`Mode/Type of Service Status`, \n                   -`UACE CD`, \n                   -`TOS`) |&gt;\n            pivot_longer(-c(`NTD ID`:`3 Mode`), \n                            names_to=\"month\", \n                            values_to=\"VRM\") |&gt;\n            drop_na() |&gt;\n            group_by(`NTD ID`, `Agency`, `UZA Name`, \n                     `Mode`, `3 Mode`, month) |&gt;\n            summarize(VRM = sum(VRM)) |&gt;\n            ungroup() |&gt;\n            mutate(month=my(month)) # Parse _m_onth _y_ear date specs\n\nUSAGE &lt;- inner_join(TRIPS, MILES) |&gt;\n    mutate(`NTD ID` = as.integer(`NTD ID`))\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month=as.character(month)) |&gt; \n  DT::datatable()\n\n\n\n\n\n\n\n\nAfter downloading the data, the first task is to create a synthetic name. The column UZA Name was renamed as metro_area:\n\nUSAGE &lt;- USAGE |&gt; \n  rename(metro_area = `UZA Name`)\n\n\n\n\nMode column was recoded for easier understanding of data. Details obtained from here\n\nUSAGE &lt;- USAGE |&gt;\n  mutate(Mode = case_when(\n    Mode == \"AR\" ~ \"Alaska Railroad\",\n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"CC\" ~ \"Cable Car\",\n    Mode == \"CR\" ~ \"Commuter Rail\",\n    Mode == \"DR\" ~ \"Demand Response\",\n    Mode == \"FB\" ~ \"Ferryboat\",\n    Mode == \"HR\" ~ \"Heavy Rail\",\n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"LR\" ~ \"Light Rail\",\n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"MG\" ~ \"Monorail Automated Guideway\",\n    Mode == \"PB\" ~ \"Publico\",\n    Mode == \"RB\" ~ \"Bus Rapid Transit\",\n    Mode == \"SR\" ~ \"Streetcar Rail\",\n    Mode == \"TB\" ~ \"Trolleybus\",\n    Mode == \"TR\" ~ \"Aerial Tramway\",\n    Mode == \"VP\" ~ \"Vanpool\",\n    Mode == \"YR\" ~ \"Hybrid Rail\",\n    TRUE ~ \"Unknown\"\n))\n\nNow we can see a table with cleaner data:\n\nif(!require(\"DT\")) install.packages(\"DT\")\nlibrary(DT)\n\nUSAGE &lt;- USAGE |&gt; \n  select(-`3 Mode`)\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month = as.character(month)) |&gt; \n  DT::datatable()\n\n\n\n\n\n\n\n\nQ1. What transit agency had the most total VRM in our data set? The transit agency with the most total VRM (Vehicle Revenue Miles) is MTA New York City Transit with around 69 billion in total VRM.\n\nUSAGE |&gt;\n  group_by(Agency) |&gt;\n  summarise(UPT_Total = sum(UPT)) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(1) |&gt;\n  ungroup()\n\n# A tibble: 1 × 2\n  Agency                      UPT_Total\n  &lt;chr&gt;                           &lt;dbl&gt;\n1 MTA New York City Transit 69101730780\n\n\nQ2. What transit mode had the most total VRM in our data set? The transit mode with the most total VRM in our data set is bus with a total UPT (Unlinked Passenger Trips) of around 49 billion\n\nUSAGE |&gt;\n  group_by(Mode) |&gt;\n  summarise(VRM_Total = sum(VRM)) |&gt;\n  arrange(desc(VRM_Total)) |&gt;\n  head(1) |&gt;\n  ungroup()\n\n# A tibble: 1 × 2\n  Mode    VRM_Total\n  &lt;chr&gt;       &lt;dbl&gt;\n1 Bus   49444494088\n\n# The data shows bus transportation had the most vehicle revenue miles \"VRM\"\n# which is \"The miles that vehicles are scheduled to or actually travel while in revenue service\"\n# https://www.transit.dot.gov/ntd/national-transit-database-ntd-glossary#V\n\nQ3. How many trips were taken on the NYC Subway (Heavy Rail) in May 2024? A total of 186,478,364 trips were taken on the NYC subway\n\ncolnames(USAGE)\n\n[1] \"NTD ID\"     \"Agency\"     \"metro_area\" \"Mode\"       \"month\"     \n[6] \"UPT\"        \"VRM\"       \n\nnyc_filter_q3 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2024-05-01\") |&gt;\n  summarise(May_2024_Trips = sum(UPT, na.rm = TRUE))\nprint(nyc_filter_q3)\n\n# A tibble: 1 × 1\n  May_2024_Trips\n           &lt;dbl&gt;\n1      186478364\n\n\nQ4. What mode of transport had the longest average trip in May 2024? Note: This question can’t be answered with the current data\nQ5. How much did NYC subway ridership fall between April 2019 and April 2020? NYC subway ridership fell by approximately 91 during the dates indicated. This could be atributed to the Corona Virus pandemic of 2020.\n\nnyc_filter_q5_part1 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2019-04-01\") |&gt;\n  summarise(nyc_sub_2019 = sum(UPT, na.rm = TRUE))\nnyc_filter_q5_part2 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2020-04-01\") |&gt;\n  summarise(nyc_sub_2020 = sum(UPT, na.rm = TRUE))\nnyc_filter_q5_part3=((nyc_filter_q5_part2-nyc_filter_q5_part1)/(nyc_filter_q5_part1))*100\nprint(nyc_filter_q5_part3)\n\n  nyc_sub_2020\n1    -91.39649\n\n\n\n\n\nQ4.1 Which Agency has the most VRM per UPT? I chose this question because I believe this shows how efficiently an agency is using its resources. A lower Vehicle Revenue Miles to Unlinked Passenger Trips ratio would show that an Agency is able to maximize the usage of its vehicles in relation to the number of passanger trips. In this case the most efficient based on the previously mentioned definition would be New York City Department of Transportation with a ratio of .00942. However, this needs deeper analysis to determine its implications and flaws\n\nvrm_per_upt &lt;- USAGE |&gt;\n  group_by(Agency) |&gt;\n  summarise(UPT_Total = sum(UPT), VRM_Total = sum(VRM), VRM_per_UPT_ratio = (VRM_Total/UPT_Total)) |&gt;\n  ungroup() |&gt;\n  arrange(VRM_per_UPT_ratio) |&gt;\n  head(5)\n\nprint(vrm_per_upt)\n\n# A tibble: 5 × 4\n  Agency                                   UPT_Total VRM_Total VRM_per_UPT_ratio\n  &lt;chr&gt;                                        &lt;dbl&gt;     &lt;dbl&gt;             &lt;dbl&gt;\n1 New York City Department of Transportat… 440538576   4150573           0.00942\n2 Plaquemines Port, Harbor and Terminal D…   1397902     37290           0.0267 \n3 Washington State Ferries                 502394973  20230767           0.0403 \n4 Kansas City, City of Missouri             14171285   1074129           0.0758 \n5 City of Portland                          56396362   4562513           0.0809 \n\n\nQ4.2 What is the most used mode per metro area? The most used mode per metro area is the bus\n\nmost_used_mode_per_metro_area &lt;- USAGE |&gt;\n  group_by(metro_area, Mode) |&gt;\n  summarise(total_upt = sum(UPT, na.rm = TRUE), .groups = \"drop\") |&gt;\n  group_by(metro_area) |&gt;\n  slice(which.max(total_upt)) |&gt;\n  select(metro_area, Mode, total_upt)\nprint(most_used_mode_per_metro_area)\n\n# A tibble: 376 × 3\n# Groups:   metro_area [376]\n   metro_area                   Mode  total_upt\n   &lt;chr&gt;                        &lt;chr&gt;     &lt;dbl&gt;\n 1 Abilene, TX                  Bus     4811813\n 2 Akron, OH                    Bus   133397482\n 3 Albany, GA                   Bus    15828372\n 4 Albany--Schenectady, NY      Bus   312961295\n 5 Albuquerque, NM              Bus   200432456\n 6 Alexandria, LA               Bus     6168051\n 7 Allentown--Bethlehem, PA--NJ Bus   101405562\n 8 Altoona, PA                  Bus    13053250\n 9 Amarillo, TX                 Bus     4408831\n10 Ames, IA                     Bus   109854287\n# ℹ 366 more rows\n\n\nQ4.3 What are the top metro areas by mode? New York Metro area is the top area by what I consider to be the most important modes of transportation: Heavy Rail, Bus, and Commuter Rail\n\ntop_metro_areas_by_mode &lt;- USAGE |&gt;\n  group_by(Mode, metro_area) |&gt;\n  summarise(total_upt = sum(UPT, na.rm = TRUE)) |&gt;\n  group_by(Mode) |&gt;\n  slice(which.max(total_upt)) |&gt;\n  arrange(desc(total_upt))\n\nprint(top_metro_areas_by_mode)\n\n# A tibble: 18 × 3\n# Groups:   Mode [18]\n   Mode                        metro_area                              total_upt\n   &lt;chr&gt;                       &lt;chr&gt;                                       &lt;dbl&gt;\n 1 Heavy Rail                  New York--Jersey City--Newark, NY--NJ 53450544938\n 2 Bus                         New York--Jersey City--Newark, NY--NJ 23394737094\n 3 Commuter Rail               New York--Jersey City--Newark, NY--NJ  5430746046\n 4 Light Rail                  Boston, MA--NH                         1372586910\n 5 Trolleybus                  San Francisco--Oakland, CA             1345222391\n 6 Ferryboat                   New York--Jersey City--Newark, NY--NJ   556020462\n 7 Publico                     San Juan, PR                            516329565\n 8 Bus Rapid Transit           New York--Jersey City--Newark, NY--NJ   315432467\n 9 Commuter Bus                New York--Jersey City--Newark, NY--NJ   286645521\n10 Streetcar Rail              Philadelphia, PA--NJ--DE--MD            263034317\n11 Demand Response             New York--Jersey City--Newark, NY--NJ   146574222\n12 Cable Car                   San Francisco--Oakland, CA              138759762\n13 Monorail Automated Guideway Miami--Fort Lauderdale, FL              101162479\n14 Vanpool                     Seattle--Tacoma, WA                      87386804\n15 Hybrid Rail                 New York--Jersey City--Newark, NY--NJ    30022908\n16 Aerial Tramway              Portland, OR--WA                         16258014\n17 Inclined Plane              Pittsburgh, PA                           13141618\n18 Alaska Railroad             Anchorage, AK                             2938715\n\n\n\n\n\nIn this part of the project, I created a new table from USAGE that has annual total (sum) UPT and VRM for 2022\n\nUSAGE_2022_ANNUAL &lt;- USAGE |&gt;\n  filter(year(month) == \"2022\") |&gt;\n  group_by(`NTD ID`, Agency, metro_area, Mode) |&gt;\n  summarise(UPT_Total = sum(UPT, na.rm = TRUE), VRM_Total = sum(VRM, na.rm = TRUE)) |&gt;\n  ungroup()\n\nFINANCIALS &lt;- FINANCIALS |&gt;\n  mutate(Mode = case_when(\n    Mode == \"AR\" ~ \"Alaska Railroad\",\n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"CC\" ~ \"Cable Car\",\n    Mode == \"CR\" ~ \"Commuter Rail\",\n    Mode == \"DR\" ~ \"Demand Response\",\n    Mode == \"FB\" ~ \"Ferryboat\",\n    Mode == \"HR\" ~ \"Heavy Rail\",\n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"LR\" ~ \"Light Rail\",\n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"MG\" ~ \"Monorail Automated Guideway\",\n    Mode == \"PB\" ~ \"Publico\",\n    Mode == \"RB\" ~ \"Bus Rapid Transit\",\n    Mode == \"SR\" ~ \"Streetcar Rail\",\n    Mode == \"TB\" ~ \"Trolleybus\",\n    Mode == \"TR\" ~ \"Aerial Tramway\",\n    Mode == \"VP\" ~ \"Vanpool\",\n    Mode == \"YR\" ~ \"Hybrid Rail\",\n    TRUE ~ \"Unknown\"\n  ))\n\n\nUSAGE_AND_FINANCIALS &lt;- left_join(USAGE_2022_ANNUAL, FINANCIALS, \n  join_by(`NTD ID`, \"Mode\")) |&gt;\n  drop_na()\n\ncolnames(USAGE_2022_ANNUAL)\n\n[1] \"NTD ID\"     \"Agency\"     \"metro_area\" \"Mode\"       \"UPT_Total\" \n[6] \"VRM_Total\" \n\nsample_n(USAGE_2022_ANNUAL, 1141) |&gt; \n    DT::datatable()\n\n\n\n\n\n\n\n\nNote I did not restrict data to major transit systems because I was interested in seeing the results despite the size of the transit system\nQ1. Which transit system (agency and mode) had the most UPT in 2022? The transit system with the most UPT in 2022 was the MTA New York City Transit\n\nUSAGE_2022_ANNUAL |&gt;\n  group_by(Agency, Mode) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(5) |&gt;\n  ungroup()\n\n# A tibble: 5 × 6\n  `NTD ID` Agency                           metro_area Mode  UPT_Total VRM_Total\n     &lt;int&gt; &lt;chr&gt;                            &lt;chr&gt;      &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1    20008 MTA New York City Transit        New York-… Heav…    1.79e9 338199451\n2    20008 MTA New York City Transit        New York-… Bus      4.59e8  82638609\n3    90154 Los Angeles County Metropolitan… Los Angel… Bus      1.94e8 124306796\n4    50066 Chicago Transit Authority        Chicago, … Bus      1.40e8  44199272\n5    20080 New Jersey Transit Corporation   New York-… Bus      1.13e8 161834490\n\n\nQ2. Which transit system (agency and mode) had the highest farebox recovery, defined as the highest ratio of Total Fares to Expenses?\nThe Agency Transit Authority of Central Kentucky with the mode of Vanpool had the highest farebox recovery. This indicates that this agency was able to obtain more revenue relative to its expenses in comparison to other Agencies. It its interesting to see that Vanpool occupies the second and third place in this query. This might indicate that this is Mode of transportation is financially efficient\n\nhighest_farebox_recovery &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(Expenses, na.rm = TRUE))) |&gt;\n  ungroup() |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\n\nprint(highest_farebox_recovery)\n\n# A tibble: 5 × 3\n  Agency                                                        Mode      ratio\n  &lt;chr&gt;                                                         &lt;chr&gt;     &lt;dbl&gt;\n1 Transit Authority of Central Kentucky                         Vanpool    2.38\n2 County of Miami-Dade                                          Vanpool    1.67\n3 Yuma County Intergovernmental Public Transportation Authority Vanpool    1.47\n4 Port Imperial Ferry Corporation                               Ferryboat  1.43\n5 Hyannis Harbor Tours, Inc.                                    Ferryboat  1.41\n\n\nQ3. Which transit system (agency and mode) has the lowest expenses per UPT?\nNorth Carolina State University’s Bus transportation had the lowest expenses per UPT. This seems to be a transit system focusing on transportation for a university, so it might be that the low expenses derive from the relative short range of the service provided\n\nlowest_expenses_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_UPT)\n\n# A tibble: 5 × 3\n  Agency                          Mode           ratio\n  &lt;chr&gt;                           &lt;chr&gt;          &lt;dbl&gt;\n1 North Carolina State University Bus             1.18\n2 Anaheim Transportation Network  Bus             1.28\n3 Valley Metro Rail, Inc.         Streetcar Rail  1.49\n4 University of Iowa              Bus             1.54\n5 Chatham Area Transit Authority  Ferryboat       1.60\n\n\nQ4. Which transit system (agency and mode) has the highest total fares per UPT?\nThe Altoona Metro Transit Demand Response transportation had the highest total fares per UPT\n\nhighest_total_fares_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_total_fares_per_UPT) \n\n# A tibble: 5 × 3\n  Agency                                        Mode            ratio\n  &lt;chr&gt;                                         &lt;chr&gt;           &lt;dbl&gt;\n1 Altoona Metro Transit                         Demand Response 660. \n2 Alaska Railroad Corporation                   Alaska Railroad 153. \n3 Bay State LLC                                 Ferryboat        65.0\n4 Central Pennsylvania Transportation Authority Demand Response  50.2\n5 Hampton Jitney, Inc.                          Commuter Bus     41.3\n\n\nQ5. Which transit system (agency and mode) has the lowest expenses per VRM?\nNew Mexico Department of Transportation Vanpool mode had the lowest expense per VRM. That same mode is in the next 4 spots of our results. This indicates that Vanpool could be transportation mode that does not require or demands a lot of expenses.\n\nlowest_expenses_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_VRM)\n\n# A tibble: 5 × 3\n  Agency                                           Mode    ratio\n  &lt;chr&gt;                                            &lt;chr&gt;   &lt;dbl&gt;\n1 New Mexico Department of Transportation          Vanpool 0.337\n2 VIA Metropolitan Transit                         Vanpool 0.370\n3 County of Miami-Dade                             Vanpool 0.386\n4 County of Volusia                                Vanpool 0.393\n5 Corpus Christi Regional Transportation Authority Vanpool 0.431\n\n\nQ6. Which transit system (agency and mode) has the highest total fares per VRM?\nChicago Water Taxi (Wendella) Ferryboat transportation had the highest total fares per VRM. This might reflect the fact that expenses and mainteinance for this mode of transportation is higher\n\nhighest_fares_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_fares_per_VRM)\n\n# A tibble: 5 × 3\n  Agency                                             Mode            ratio\n  &lt;chr&gt;                                              &lt;chr&gt;           &lt;dbl&gt;\n1 Chicago Water Taxi (Wendella)                      Ferryboat        237.\n2 Altoona Metro Transit                              Demand Response  229.\n3 Jacksonville Transportation Authority              Ferryboat        158.\n4 Chattanooga Area Regional Transportation Authority Inclined Plane   149.\n5 Hyannis Harbor Tours, Inc.                         Ferryboat        138.\n\n\n\n\n\nFarebox recovery rate for the Transit Authority of Central Kentucky, and more specifically the Vanpool mode seems to be great. There should be a deeper investigation into why this is, and how this transportation mode can be escalated to serve more people, or how Vanpool transportation mode’s characteristics can be leveraged for other transportation modes to achieve such recovery rates"
  },
  {
    "objectID": "mp01.html#preparing-the-data",
    "href": "mp01.html#preparing-the-data",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "To start with the project, I used the following code to download the data. Here we can see some tables being created with specific columns, then these new tables are joined.\n\nlibrary(tidyverse)\nlibrary(DT)\nsetwd(\"C:/Users/MT/Desktop/R Coding/STA9750-2024-FALL\")\n\nFARES &lt;- readxl::read_xlsx(\"2022_fare_revenue.xlsx\") |&gt;\n    select(-`State/Parent NTD ID`, \n           -`Reporter Type`,\n           -`Reporting Module`,\n           -`TOS`,\n           -`Passenger Paid Fares`,\n           -`Organization Paid Fares`) |&gt;\n    filter(`Expense Type` == \"Funds Earned During Period\") |&gt;\n    select(-`Expense Type`) |&gt;\n    group_by(`NTD ID`,       # Sum over different `TOS` for the same `Mode`\n             `Agency Name`,  # These are direct operated and sub-contracted \n             `Mode`) |&gt;      # of the same transit modality\n                             # Not a big effect in most munis (significant DO\n                             # tends to get rid of sub-contractors), but we'll sum\n                             # to unify different passenger experiences\n    summarize(`Total Fares` = sum(`Total Fares`)) |&gt;\n    ungroup()\n\nEXPENSES &lt;- readr::read_csv(\"2022_expenses.csv\") |&gt;\n    select(`NTD ID`, \n           `Agency`,\n           `Total`, \n           `Mode`) |&gt;\n    mutate(`NTD ID` = as.integer(`NTD ID`)) |&gt;\n    rename(Expenses = Total) |&gt;\n    group_by(`NTD ID`, `Mode`) |&gt;\n    summarize(Expenses = sum(Expenses)) |&gt;\n    ungroup()\n\nFINANCIALS &lt;- inner_join(FARES, EXPENSES, join_by(`NTD ID`, `Mode`))\n\nTRIPS &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet = \"UPT\") |&gt;\n            filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n            select(-`Legacy NTD ID`, \n                   -`Reporter Type`, \n                   -`Mode/Type of Service Status`, \n                   -`UACE CD`, \n                   -`TOS`) |&gt;\n            pivot_longer(-c(`NTD ID`:`3 Mode`), \n                            names_to=\"month\", \n                            values_to=\"UPT\") |&gt;\n            drop_na() |&gt;\n            mutate(month=my(month)) # Parse _m_onth _y_ear date specs\nMILES &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet=\"VRM\") |&gt;\n            filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n            select(-`Legacy NTD ID`, \n                   -`Reporter Type`, \n                   -`Mode/Type of Service Status`, \n                   -`UACE CD`, \n                   -`TOS`) |&gt;\n            pivot_longer(-c(`NTD ID`:`3 Mode`), \n                            names_to=\"month\", \n                            values_to=\"VRM\") |&gt;\n            drop_na() |&gt;\n            group_by(`NTD ID`, `Agency`, `UZA Name`, \n                     `Mode`, `3 Mode`, month) |&gt;\n            summarize(VRM = sum(VRM)) |&gt;\n            ungroup() |&gt;\n            mutate(month=my(month)) # Parse _m_onth _y_ear date specs\n\nUSAGE &lt;- inner_join(TRIPS, MILES) |&gt;\n    mutate(`NTD ID` = as.integer(`NTD ID`))\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month=as.character(month)) |&gt; \n  DT::datatable()"
  },
  {
    "objectID": "mp01.html#creating-syntatic-names",
    "href": "mp01.html#creating-syntatic-names",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "After downloading the data, the first task is to create a synthetic name. The column UZA Name was renamed as metro_area:\n{r echo=TRUE, warning=FALSE, message=FALSE}\nUSAGE &lt;- USAGE |&gt; \n  rename(metro_area = `UZA Name`)"
  },
  {
    "objectID": "mp01.html#task-1-creating-syntatic-names",
    "href": "mp01.html#task-1-creating-syntatic-names",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "After downloading the data, the first task is to create a synthetic name. The column UZA Name was renamed as metro_area:\n\nUSAGE &lt;- USAGE |&gt; \n  rename(metro_area = `UZA Name`)"
  },
  {
    "objectID": "mp01.html#task-2-recoding-the-mode-column",
    "href": "mp01.html#task-2-recoding-the-mode-column",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Mode column was recoded for easier understanding of data. Details obtained from here\n\nUSAGE &lt;- USAGE |&gt;\n  mutate(Mode = case_when(\n    Mode == \"AR\" ~ \"Alaska Railroad\",\n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"CC\" ~ \"Cable Car\",\n    Mode == \"CR\" ~ \"Commuter Rail\",\n    Mode == \"DR\" ~ \"Demand Response\",\n    Mode == \"FB\" ~ \"Ferryboat\",\n    Mode == \"HR\" ~ \"Heavy Rail\",\n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"LR\" ~ \"Light Rail\",\n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"MG\" ~ \"Monorail Automated Guideway\",\n    Mode == \"PB\" ~ \"Publico\",\n    Mode == \"RB\" ~ \"Bus Rapid Transit\",\n    Mode == \"SR\" ~ \"Streetcar Rail\",\n    Mode == \"TB\" ~ \"Trolleybus\",\n    Mode == \"TR\" ~ \"Aerial Tramway\",\n    Mode == \"VP\" ~ \"Vanpool\",\n    Mode == \"YR\" ~ \"Hybrid Rail\",\n    TRUE ~ \"Unknown\"\n))\n\nNow we can see a table with cleaner data:\n\nif(!require(\"DT\")) install.packages(\"DT\")\nlibrary(DT)\n\nUSAGE &lt;- USAGE |&gt; \n  select(-`3 Mode`)\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month = as.character(month)) |&gt; \n  DT::datatable()"
  },
  {
    "objectID": "mp01.html#task-3-answering-instructor-specified-questions-with-dplyr",
    "href": "mp01.html#task-3-answering-instructor-specified-questions-with-dplyr",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Q1. What transit agency had the most total VRM in our data set? The transit agency with the most total VRM (Vehicle Revenue Miles) is MTA New York City Transit with around 69 billion in total VRM.\n\nUSAGE |&gt;\n  group_by(Agency) |&gt;\n  summarise(UPT_Total = sum(UPT)) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(1) |&gt;\n  ungroup()\n\n# A tibble: 1 × 2\n  Agency                      UPT_Total\n  &lt;chr&gt;                           &lt;dbl&gt;\n1 MTA New York City Transit 69101730780\n\n\nQ2. What transit mode had the most total VRM in our data set? The transit mode with the most total VRM in our data set is bus with a total UPT (Unlinked Passenger Trips) of around 49 billion\n\nUSAGE |&gt;\n  group_by(Mode) |&gt;\n  summarise(VRM_Total = sum(VRM)) |&gt;\n  arrange(desc(VRM_Total)) |&gt;\n  head(1) |&gt;\n  ungroup()\n\n# A tibble: 1 × 2\n  Mode    VRM_Total\n  &lt;chr&gt;       &lt;dbl&gt;\n1 Bus   49444494088\n\n# The data shows bus transportation had the most vehicle revenue miles \"VRM\"\n# which is \"The miles that vehicles are scheduled to or actually travel while in revenue service\"\n# https://www.transit.dot.gov/ntd/national-transit-database-ntd-glossary#V\n\nQ3. How many trips were taken on the NYC Subway (Heavy Rail) in May 2024? A total of 186,478,364 trips were taken on the NYC subway\n\ncolnames(USAGE)\n\n[1] \"NTD ID\"     \"Agency\"     \"metro_area\" \"Mode\"       \"month\"     \n[6] \"UPT\"        \"VRM\"       \n\nnyc_filter_q3 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2024-05-01\") |&gt;\n  summarise(May_2024_Trips = sum(UPT, na.rm = TRUE))\nprint(nyc_filter_q3)\n\n# A tibble: 1 × 1\n  May_2024_Trips\n           &lt;dbl&gt;\n1      186478364\n\n\nQ4. What mode of transport had the longest average trip in May 2024? Note: This question can’t be answered with the current data\nQ5. How much did NYC subway ridership fall between April 2019 and April 2020? NYC subway ridership fell by approximately 91 during the dates indicated. This could be atributed to the Corona Virus pandemic of 2020.\n\nnyc_filter_q5_part1 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2019-04-01\") |&gt;\n  summarise(nyc_sub_2019 = sum(UPT, na.rm = TRUE))\nnyc_filter_q5_part2 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2020-04-01\") |&gt;\n  summarise(nyc_sub_2020 = sum(UPT, na.rm = TRUE))\nnyc_filter_q5_part3=((nyc_filter_q5_part2-nyc_filter_q5_part1)/(nyc_filter_q5_part1))*100\nprint(nyc_filter_q5_part3)\n\n  nyc_sub_2020\n1    -91.39649"
  },
  {
    "objectID": "mp01.html#task-4-explore-and-analyze-find-three-more-interesting-transit-facts-in-this-data-other-than-those-above.",
    "href": "mp01.html#task-4-explore-and-analyze-find-three-more-interesting-transit-facts-in-this-data-other-than-those-above.",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Q4.1 Which Agency has the most VRM per UPT? I chose this question because I believe this shows how efficiently an agency is using its resources. A lower Vehicle Revenue Miles to Unlinked Passenger Trips ratio would show that an Agency is able to maximize the usage of its vehicles in relation to the number of passanger trips. In this case the most efficient based on the previously mentioned definition would be New York City Department of Transportation with a ratio of .00942. However, this needs deeper analysis to determine its implications and flaws\n\nvrm_per_upt &lt;- USAGE |&gt;\n  group_by(Agency) |&gt;\n  summarise(UPT_Total = sum(UPT), VRM_Total = sum(VRM), VRM_per_UPT_ratio = (VRM_Total/UPT_Total)) |&gt;\n  ungroup() |&gt;\n  arrange(VRM_per_UPT_ratio) |&gt;\n  head(5)\n\nprint(vrm_per_upt)\n\n# A tibble: 5 × 4\n  Agency                                   UPT_Total VRM_Total VRM_per_UPT_ratio\n  &lt;chr&gt;                                        &lt;dbl&gt;     &lt;dbl&gt;             &lt;dbl&gt;\n1 New York City Department of Transportat… 440538576   4150573           0.00942\n2 Plaquemines Port, Harbor and Terminal D…   1397902     37290           0.0267 \n3 Washington State Ferries                 502394973  20230767           0.0403 \n4 Kansas City, City of Missouri             14171285   1074129           0.0758 \n5 City of Portland                          56396362   4562513           0.0809 \n\n\nQ4.2 What is the most used mode per metro area? The most used mode per metro area is the bus\n\nmost_used_mode_per_metro_area &lt;- USAGE |&gt;\n  group_by(metro_area, Mode) |&gt;\n  summarise(total_upt = sum(UPT, na.rm = TRUE), .groups = \"drop\") |&gt;\n  group_by(metro_area) |&gt;\n  slice(which.max(total_upt)) |&gt;\n  select(metro_area, Mode, total_upt)\nprint(most_used_mode_per_metro_area)\n\n# A tibble: 376 × 3\n# Groups:   metro_area [376]\n   metro_area                   Mode  total_upt\n   &lt;chr&gt;                        &lt;chr&gt;     &lt;dbl&gt;\n 1 Abilene, TX                  Bus     4811813\n 2 Akron, OH                    Bus   133397482\n 3 Albany, GA                   Bus    15828372\n 4 Albany--Schenectady, NY      Bus   312961295\n 5 Albuquerque, NM              Bus   200432456\n 6 Alexandria, LA               Bus     6168051\n 7 Allentown--Bethlehem, PA--NJ Bus   101405562\n 8 Altoona, PA                  Bus    13053250\n 9 Amarillo, TX                 Bus     4408831\n10 Ames, IA                     Bus   109854287\n# ℹ 366 more rows\n\n\nQ4.3 What are the top metro areas by mode? New York Metro area is the top area by what I consider to be the most important modes of transportation: Heavy Rail, Bus, and Commuter Rail\n\ntop_metro_areas_by_mode &lt;- USAGE |&gt;\n  group_by(Mode, metro_area) |&gt;\n  summarise(total_upt = sum(UPT, na.rm = TRUE)) |&gt;\n  group_by(Mode) |&gt;\n  slice(which.max(total_upt)) |&gt;\n  arrange(desc(total_upt))\n\nprint(top_metro_areas_by_mode)\n\n# A tibble: 18 × 3\n# Groups:   Mode [18]\n   Mode                        metro_area                              total_upt\n   &lt;chr&gt;                       &lt;chr&gt;                                       &lt;dbl&gt;\n 1 Heavy Rail                  New York--Jersey City--Newark, NY--NJ 53450544938\n 2 Bus                         New York--Jersey City--Newark, NY--NJ 23394737094\n 3 Commuter Rail               New York--Jersey City--Newark, NY--NJ  5430746046\n 4 Light Rail                  Boston, MA--NH                         1372586910\n 5 Trolleybus                  San Francisco--Oakland, CA             1345222391\n 6 Ferryboat                   New York--Jersey City--Newark, NY--NJ   556020462\n 7 Publico                     San Juan, PR                            516329565\n 8 Bus Rapid Transit           New York--Jersey City--Newark, NY--NJ   315432467\n 9 Commuter Bus                New York--Jersey City--Newark, NY--NJ   286645521\n10 Streetcar Rail              Philadelphia, PA--NJ--DE--MD            263034317\n11 Demand Response             New York--Jersey City--Newark, NY--NJ   146574222\n12 Cable Car                   San Francisco--Oakland, CA              138759762\n13 Monorail Automated Guideway Miami--Fort Lauderdale, FL              101162479\n14 Vanpool                     Seattle--Tacoma, WA                      87386804\n15 Hybrid Rail                 New York--Jersey City--Newark, NY--NJ    30022908\n16 Aerial Tramway              Portland, OR--WA                         16258014\n17 Inclined Plane              Pittsburgh, PA                           13141618\n18 Alaska Railroad             Anchorage, AK                             2938715"
  },
  {
    "objectID": "mp01.html#task-5-table-summarization",
    "href": "mp01.html#task-5-table-summarization",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "In this part of the project, I created a new table from USAGE that has annual total (sum) UPT and VRM for 2022\n\nUSAGE_2022_ANNUAL &lt;- USAGE |&gt;\n  filter(year(month) == \"2022\") |&gt;\n  group_by(`NTD ID`, Agency, metro_area, Mode) |&gt;\n  summarise(UPT_Total = sum(UPT, na.rm = TRUE), VRM_Total = sum(VRM, na.rm = TRUE)) |&gt;\n  ungroup()\n\nFINANCIALS &lt;- FINANCIALS |&gt;\n  mutate(Mode = case_when(\n    Mode == \"AR\" ~ \"Alaska Railroad\",\n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"CC\" ~ \"Cable Car\",\n    Mode == \"CR\" ~ \"Commuter Rail\",\n    Mode == \"DR\" ~ \"Demand Response\",\n    Mode == \"FB\" ~ \"Ferryboat\",\n    Mode == \"HR\" ~ \"Heavy Rail\",\n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"LR\" ~ \"Light Rail\",\n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"MG\" ~ \"Monorail Automated Guideway\",\n    Mode == \"PB\" ~ \"Publico\",\n    Mode == \"RB\" ~ \"Bus Rapid Transit\",\n    Mode == \"SR\" ~ \"Streetcar Rail\",\n    Mode == \"TB\" ~ \"Trolleybus\",\n    Mode == \"TR\" ~ \"Aerial Tramway\",\n    Mode == \"VP\" ~ \"Vanpool\",\n    Mode == \"YR\" ~ \"Hybrid Rail\",\n    TRUE ~ \"Unknown\"\n  ))\n\n\nUSAGE_AND_FINANCIALS &lt;- left_join(USAGE_2022_ANNUAL, FINANCIALS, \n  join_by(`NTD ID`, \"Mode\")) |&gt;\n  drop_na()\n\ncolnames(USAGE_2022_ANNUAL)\n\n[1] \"NTD ID\"     \"Agency\"     \"metro_area\" \"Mode\"       \"UPT_Total\" \n[6] \"VRM_Total\" \n\nsample_n(USAGE_2022_ANNUAL, 1141) |&gt; \n    DT::datatable()"
  },
  {
    "objectID": "mp01.html#task-6-farebox-recovery-among-major-systems",
    "href": "mp01.html#task-6-farebox-recovery-among-major-systems",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Note I did not restrict data to major transit systems because I was interested in seeing the results despite the size of the transit system\nQ1. Which transit system (agency and mode) had the most UPT in 2022? The transit system with the most UPT in 2022 was the MTA New York City Transit\n{r echo=TRUE, warning=FALSE, message=FALSE}\nUSAGE_2022_ANNUAL |&gt;\n  group_by(Agency, Mode) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(5) |&gt;\n  ungroup()\n\nQ2. Which transit system (agency and mode) had the highest farebox recovery, defined as the highest ratio of Total Fares to Expenses?\nThe Agency Transit Authority of Central Kentucky with the mode of Vanpool had the highest farebox recovery. This indicates that this agency was able to obtain more revenue relative to its expenses in comparison to other Agencies. It its interesting to see that Vanpool occupies the second and third place in this query. This might indicate that this is Mode of transportation is financially efficient\n{r echo=TRUE, warning=FALSE, message=FALSE}\nhighest_farebox_recovery &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(Expenses, na.rm = TRUE))) |&gt;\n  ungroup() |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\n\nprint(highest_farebox_recovery)\n\nQ3. Which transit system (agency and mode) has the lowest expenses per UPT?\nNorth Carolina State University’s Bus transportation had the lowest expenses per UPT. This seems to be a transit system focusing on transportation for a university, so it might be that the low expenses derive from the relative short range of the service provided\n{r echo=TRUE, warning=FALSE, message=FALSE}\nlowest_expenses_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_UPT)\n\nQ4. Which transit system (agency and mode) has the highest total fares per UPT?\nThe Altoona Metro Transit Demand Response transportation had the highest total fares per UPT\n{r echo=TRUE, warning=FALSE, message=FALSE}\nhighest_total_fares_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_total_fares_per_UPT) \n\nQ5. Which transit system (agency and mode) has the lowest expenses per VRM?\nNew Mexico Department of Transportation Vanpool mode had the lowest expense per VRM. That same mode is in the next 4 spots of our results. This indicates that Vanpool could be transportation mode that does not require or demands a lot of expenses.\n{r echo=TRUE, warning=FALSE, message=FALSE}\nlowest_expenses_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_VRM)\n\nQ6. Which transit system (agency and mode) has the highest total fares per VRM?\nChicago Water Taxi (Wendella) Ferryboat transportation had the highest total fares per VRM. This might reflect the fact that expenses and mainteinance for this mode of transportation is higher\n{r echo=TRUE, warning=FALSE, message=FALSE}\nhighest_fares_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_fares_per_VRM)\n\n##Conclusion"
  },
  {
    "objectID": "mp01.html#task-6-farebox-recovery-among-all-systems",
    "href": "mp01.html#task-6-farebox-recovery-among-all-systems",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Note I did not restrict data to major transit systems because I was interested in seeing the results despite the size of the transit system\nQ1. Which transit system (agency and mode) had the most UPT in 2022? The transit system with the most UPT in 2022 was the MTA New York City Transit\n\nUSAGE_2022_ANNUAL |&gt;\n  group_by(Agency, Mode) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(5) |&gt;\n  ungroup()\n\n# A tibble: 5 × 6\n  `NTD ID` Agency                           metro_area Mode  UPT_Total VRM_Total\n     &lt;int&gt; &lt;chr&gt;                            &lt;chr&gt;      &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1    20008 MTA New York City Transit        New York-… Heav…    1.79e9 338199451\n2    20008 MTA New York City Transit        New York-… Bus      4.59e8  82638609\n3    90154 Los Angeles County Metropolitan… Los Angel… Bus      1.94e8 124306796\n4    50066 Chicago Transit Authority        Chicago, … Bus      1.40e8  44199272\n5    20080 New Jersey Transit Corporation   New York-… Bus      1.13e8 161834490\n\n\nQ2. Which transit system (agency and mode) had the highest farebox recovery, defined as the highest ratio of Total Fares to Expenses?\nThe Agency Transit Authority of Central Kentucky with the mode of Vanpool had the highest farebox recovery. This indicates that this agency was able to obtain more revenue relative to its expenses in comparison to other Agencies. It its interesting to see that Vanpool occupies the second and third place in this query. This might indicate that this is Mode of transportation is financially efficient\n\nhighest_farebox_recovery &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(Expenses, na.rm = TRUE))) |&gt;\n  ungroup() |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\n\nprint(highest_farebox_recovery)\n\n# A tibble: 5 × 3\n  Agency                                                        Mode      ratio\n  &lt;chr&gt;                                                         &lt;chr&gt;     &lt;dbl&gt;\n1 Transit Authority of Central Kentucky                         Vanpool    2.38\n2 County of Miami-Dade                                          Vanpool    1.67\n3 Yuma County Intergovernmental Public Transportation Authority Vanpool    1.47\n4 Port Imperial Ferry Corporation                               Ferryboat  1.43\n5 Hyannis Harbor Tours, Inc.                                    Ferryboat  1.41\n\n\nQ3. Which transit system (agency and mode) has the lowest expenses per UPT?\nNorth Carolina State University’s Bus transportation had the lowest expenses per UPT. This seems to be a transit system focusing on transportation for a university, so it might be that the low expenses derive from the relative short range of the service provided\n\nlowest_expenses_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_UPT)\n\n# A tibble: 5 × 3\n  Agency                          Mode           ratio\n  &lt;chr&gt;                           &lt;chr&gt;          &lt;dbl&gt;\n1 North Carolina State University Bus             1.18\n2 Anaheim Transportation Network  Bus             1.28\n3 Valley Metro Rail, Inc.         Streetcar Rail  1.49\n4 University of Iowa              Bus             1.54\n5 Chatham Area Transit Authority  Ferryboat       1.60\n\n\nQ4. Which transit system (agency and mode) has the highest total fares per UPT?\nThe Altoona Metro Transit Demand Response transportation had the highest total fares per UPT\n\nhighest_total_fares_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_total_fares_per_UPT) \n\n# A tibble: 5 × 3\n  Agency                                        Mode            ratio\n  &lt;chr&gt;                                         &lt;chr&gt;           &lt;dbl&gt;\n1 Altoona Metro Transit                         Demand Response 660. \n2 Alaska Railroad Corporation                   Alaska Railroad 153. \n3 Bay State LLC                                 Ferryboat        65.0\n4 Central Pennsylvania Transportation Authority Demand Response  50.2\n5 Hampton Jitney, Inc.                          Commuter Bus     41.3\n\n\nQ5. Which transit system (agency and mode) has the lowest expenses per VRM?\nNew Mexico Department of Transportation Vanpool mode had the lowest expense per VRM. That same mode is in the next 4 spots of our results. This indicates that Vanpool could be transportation mode that does not require or demands a lot of expenses.\n\nlowest_expenses_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_VRM)\n\n# A tibble: 5 × 3\n  Agency                                           Mode    ratio\n  &lt;chr&gt;                                            &lt;chr&gt;   &lt;dbl&gt;\n1 New Mexico Department of Transportation          Vanpool 0.337\n2 VIA Metropolitan Transit                         Vanpool 0.370\n3 County of Miami-Dade                             Vanpool 0.386\n4 County of Volusia                                Vanpool 0.393\n5 Corpus Christi Regional Transportation Authority Vanpool 0.431\n\n\nQ6. Which transit system (agency and mode) has the highest total fares per VRM?\nChicago Water Taxi (Wendella) Ferryboat transportation had the highest total fares per VRM. This might reflect the fact that expenses and mainteinance for this mode of transportation is higher\n\nhighest_fares_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_fares_per_VRM)\n\n# A tibble: 5 × 3\n  Agency                                             Mode            ratio\n  &lt;chr&gt;                                              &lt;chr&gt;           &lt;dbl&gt;\n1 Chicago Water Taxi (Wendella)                      Ferryboat        237.\n2 Altoona Metro Transit                              Demand Response  229.\n3 Jacksonville Transportation Authority              Ferryboat        158.\n4 Chattanooga Area Regional Transportation Authority Inclined Plane   149.\n5 Hyannis Harbor Tours, Inc.                         Ferryboat        138."
  },
  {
    "objectID": "mp01.html#conclusion",
    "href": "mp01.html#conclusion",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Farebox recovery rate for the Transit Authority of Central Kentucky, and more specifically the Vanpool mode seems to be great. There should be a deeper investigation into why this is, and how this transportation mode can be escalated to serve more people, or how Vanpool transportation mode’s characteristics can be leveraged for other transportation modes to achieve such recovery rates"
  },
  {
    "objectID": "mp02.html",
    "href": "mp02.html",
    "title": "Mini-Project #02: The Business of Show Business",
    "section": "",
    "text": "In this project, I will put myself in the shoes of a Hollywood development executive. I will be analyzing data from the Internet Movie Database (IMDb) with the objective of proposing a new Hollywood project based on the insights provided by the data. To achieve the objective, I will first analyze historical data containing components such as genres, directors, and ratings to find trends and insights.\n\n\nWe will start by downloading the data from the Internet Movie Database (IMDb). The following code will automatically download and load these files into R:\n\nget_imdb_file &lt;- function(fname){\n    BASE_URL &lt;- \"https://datasets.imdbws.com/\"\n    fname_ext &lt;- paste0(fname, \".tsv.gz\")\n    if(!file.exists(fname_ext)){\n        FILE_URL &lt;- paste0(BASE_URL, fname_ext)\n        download.file(FILE_URL, \n                      destfile = fname_ext)\n    }\n    as.data.frame(readr::read_tsv(fname_ext, lazy=FALSE))\n}\n\nNAME_BASICS      &lt;- get_imdb_file(\"name.basics\")\n\n\nTITLE_BASICS     &lt;- get_imdb_file(\"title.basics\")\n\n\nTITLE_EPISODES   &lt;- get_imdb_file(\"title.episode\")\n\n\nTITLE_RATINGS    &lt;- get_imdb_file(\"title.ratings\")\n\n\nTITLE_CREW       &lt;- get_imdb_file(\"title.crew\")\n\n\nTITLE_PRINCIPALS &lt;- get_imdb_file(\"title.principals\")\n\n#Note this was run with eval: true once, and then changed to false due to the size of the data. In following steps will will modify this table and cache it.\n\n\n\n\nGiven this is a large amount of data, we are going to need to start down-selecting to facilitate analysis performance. For our NAME_BASICS table, we’ll restrict our attention to people with at least two “known for” credits.1\n\nNAME_BASICS &lt;- NAME_BASICS |&gt; \n    filter(str_count(knownForTitles, \",\") &gt; 1)\n\nAs we can see in the following histogram, IMDb contains a long tail of not well known movies:\n\nTITLE_RATINGS |&gt;\n    ggplot(aes(x=numVotes)) + \n    geom_histogram(bins=30) +\n    xlab(\"Number of IMDB Ratings\") + \n    ylab(\"Number of Titles\") + \n    ggtitle(\"Majority of IMDB Titles Have Less than 100 Ratings\") + \n    theme_bw() + \n    scale_x_log10(label=scales::comma) + \n    scale_y_continuous(label=scales::comma)\n\n\n\n\n\n\n\n\nTo improve computer efficiency, any title with less than 100 ratings will be removed. As seen in the following table, this action drops around 75% of the data set:\n\nTITLE_RATINGS |&gt;\n    pull(numVotes) |&gt;\n    quantile()\n\n     0%     25%     50%     75%    100% \n      5      11      26     101 2952034 \n\n\nBy applying the following code, we significantly reduce the size of the data set:\n\nTITLE_RATINGS &lt;- TITLE_RATINGS |&gt;\n    filter(numVotes &gt;= 100)\n\nThe same filtering will be applied to the other TITLE_* tables. In the following case, the semi_join is used. The semi_join returns only values which have a match, but doesn’t add columns.\n\nTITLE_BASICS &lt;- TITLE_BASICS |&gt;\n    semi_join(TITLE_RATINGS, \n              join_by(tconst == tconst))\n\nTITLE_CREW &lt;- TITLE_CREW |&gt;\n    semi_join(TITLE_RATINGS, \n              join_by(tconst == tconst))\n\nTITLE_EPISODES_1 &lt;- TITLE_EPISODES |&gt;\n    semi_join(TITLE_RATINGS, \n              join_by(tconst == tconst))\nTITLE_EPISODES_2 &lt;- TITLE_EPISODES |&gt;\n    semi_join(TITLE_RATINGS, \n              join_by(parentTconst == tconst))\n\nTITLE_EPISODES &lt;- bind_rows(TITLE_EPISODES_1,\n                            TITLE_EPISODES_2) |&gt;\n    distinct()\n\nTITLE_PRINCIPALS &lt;- TITLE_PRINCIPALS |&gt;\n  semi_join(TITLE_RATINGS, join_by(tconst == tconst))\n\n\nrm(TITLE_EPISODES_1)\nrm(TITLE_EPISODES_2)\n\nAt this point, the data has been filtered down significantly. Now, the analysis process can be started.\n\n\n\nWe will start examining our data more closely.\n\nprint(\"NAME_BASICS TABLE\")\nglimpse(NAME_BASICS)\n\nprint(\"TITLE_BASICS TABLE\")\nglimpse(TITLE_BASICS)\n\nprint(\"TITLE_CREW TABLE\")\nglimpse(TITLE_CREW)\n\nprint(\"TITLE_EPISODES TABLE\")\nglimpse(TITLE_EPISODES)\n\nprint(\"TITLE_PRINCIPALS TABLE\")\nglimpse(TITLE_PRINCIPALS)\n\nprint(\"TITLE_RATINGS TABLE\")\nglimpse(TITLE_RATINGS)\n\n\n\n\n\n\n\nTask 1: Column Type Correction (Instructor-Provided)\n\n\n\nCorrect the column types of the TITLE tables using a combination of mutate and the coercion functions as.numeric and as.logical.\n\n\n\n\n\nThe use of the glimpse function above allows us to examine each table. We can see that many columns appear to be read as character (string) vectors, even when they should be read as numeric, or numeric when they should be read as logical. This could occur because missing values are represented as \\\\N or other non numeric values. Since R does not know that these are NA values, it retains them as strings.\nTo fix these, we will use the mutate command, and the as.numeric or as.logical command to change column type as follows:\n\nNAME_BASICS &lt;- NAME_BASICS |&gt;\n    mutate(birthYear = as.numeric(birthYear),\n           deathYear = as.numeric(deathYear))\n\nprint(\"NAME_BASICS TABLE\")\nglimpse(NAME_BASICS)\n\nTITLE_BASICS &lt;- TITLE_BASICS |&gt;\n    mutate(startYear = as.numeric(startYear),\n           endYear = as.numeric(endYear),\n           runtimeMinutes = as.numeric(runtimeMinutes),\n           isAdult = as.logical(isAdult))\nprint(\"TITLE_BASICS TABLE\")\nglimpse(TITLE_BASICS)\n\n\nTITLE_EPISODES &lt;- TITLE_EPISODES |&gt;\n    mutate(seasonNumber = as.numeric(seasonNumber),\n           episodeNumber = as.numeric(episodeNumber))\n\nprint(\"TITLE_EPISODES TABLE\")\nglimpse(TITLE_EPISODES)\n\nAnother aspect of this data that we would like to address is that it combines multiple pieces of information in a single cell separated by commas. We see this in the NAME_BASICS table, where both the primaryProfession and knownForTitles columns combine multiple values.\n\nglimpse(NAME_BASICS)\n\nRows: 3,188,805\nColumns: 6\n$ nconst            &lt;chr&gt; \"nm0000001\", \"nm0000002\", \"nm0000003\", \"nm0000004\", …\n$ primaryName       &lt;chr&gt; \"Fred Astaire\", \"Lauren Bacall\", \"Brigitte Bardot\", …\n$ birthYear         &lt;dbl&gt; 1899, 1924, 1934, 1949, 1918, 1915, 1899, 1924, 1925…\n$ deathYear         &lt;dbl&gt; 1987, 2014, NA, 1982, 2007, 1982, 1957, 2004, 1984, …\n$ primaryProfession &lt;chr&gt; \"actor,miscellaneous,producer\", \"actress,soundtrack,…\n$ knownForTitles    &lt;chr&gt; \"tt0072308,tt0050419,tt0053137,tt0027125\", \"tt003738…\n\n\nWe can use the separate_longer_delim function to break these into multiple rows: for example\n\nNAME_BASICS |&gt; separate_longer_delim(knownForTitles, \",\") |&gt; slice_head(n=10)\n\n      nconst     primaryName birthYear deathYear\n1  nm0000001    Fred Astaire      1899      1987\n2  nm0000001    Fred Astaire      1899      1987\n3  nm0000001    Fred Astaire      1899      1987\n4  nm0000001    Fred Astaire      1899      1987\n5  nm0000002   Lauren Bacall      1924      2014\n6  nm0000002   Lauren Bacall      1924      2014\n7  nm0000002   Lauren Bacall      1924      2014\n8  nm0000002   Lauren Bacall      1924      2014\n9  nm0000003 Brigitte Bardot      1934        NA\n10 nm0000003 Brigitte Bardot      1934        NA\n                    primaryProfession knownForTitles\n1        actor,miscellaneous,producer      tt0072308\n2        actor,miscellaneous,producer      tt0050419\n3        actor,miscellaneous,producer      tt0053137\n4        actor,miscellaneous,producer      tt0027125\n5  actress,soundtrack,archive_footage      tt0037382\n6  actress,soundtrack,archive_footage      tt0075213\n7  actress,soundtrack,archive_footage      tt0117057\n8  actress,soundtrack,archive_footage      tt0038355\n9   actress,music_department,producer      tt0057345\n10  actress,music_department,producer      tt0049189\n\n\nTo preserve flexibility, we will not fully separate NAME_BASICS just yet, but we will need to use separate_longer_delim to answer various questions."
  },
  {
    "objectID": "mp02.html#introduction",
    "href": "mp02.html#introduction",
    "title": "Mini-Project #02: The Business of Show Business",
    "section": "",
    "text": "In this project, I will put myself in the shoes of a Hollywood development executive. I will be analyzing data from the Internet Movie Database (IMDb) with the objective of proposing a new Hollywood project based on the insights provided by the data. To achieve the objective, I will first analyze historical data containing components such as genres, directors, and ratings to find trends and insights.\n\n\nWe will start by downloading the data from the Internet Movie Database (IMDb). The following code will automatically download and load these files into R:\n\nget_imdb_file &lt;- function(fname){\n    BASE_URL &lt;- \"https://datasets.imdbws.com/\"\n    fname_ext &lt;- paste0(fname, \".tsv.gz\")\n    if(!file.exists(fname_ext)){\n        FILE_URL &lt;- paste0(BASE_URL, fname_ext)\n        download.file(FILE_URL, \n                      destfile = fname_ext)\n    }\n    as.data.frame(readr::read_tsv(fname_ext, lazy=FALSE))\n}\n\nNAME_BASICS      &lt;- get_imdb_file(\"name.basics\")\n\n\nTITLE_BASICS     &lt;- get_imdb_file(\"title.basics\")\n\n\nTITLE_EPISODES   &lt;- get_imdb_file(\"title.episode\")\n\n\nTITLE_RATINGS    &lt;- get_imdb_file(\"title.ratings\")\n\n\nTITLE_CREW       &lt;- get_imdb_file(\"title.crew\")\n\n\nTITLE_PRINCIPALS &lt;- get_imdb_file(\"title.principals\")\n\n#Note this was run with eval: true once, and then changed to false due to the size of the data. In following steps will will modify this table and cache it.\n\n\n\n\nGiven this is a large amount of data, we are going to need to start down-selecting to facilitate analysis performance. For our NAME_BASICS table, we’ll restrict our attention to people with at least two “known for” credits.1\n\nNAME_BASICS &lt;- NAME_BASICS |&gt; \n    filter(str_count(knownForTitles, \",\") &gt; 1)\n\nAs we can see in the following histogram, IMDb contains a long tail of not well known movies:\n\nTITLE_RATINGS |&gt;\n    ggplot(aes(x=numVotes)) + \n    geom_histogram(bins=30) +\n    xlab(\"Number of IMDB Ratings\") + \n    ylab(\"Number of Titles\") + \n    ggtitle(\"Majority of IMDB Titles Have Less than 100 Ratings\") + \n    theme_bw() + \n    scale_x_log10(label=scales::comma) + \n    scale_y_continuous(label=scales::comma)\n\n\n\n\n\n\n\n\nTo improve computer efficiency, any title with less than 100 ratings will be removed. As seen in the following table, this action drops around 75% of the data set:\n\nTITLE_RATINGS |&gt;\n    pull(numVotes) |&gt;\n    quantile()\n\n     0%     25%     50%     75%    100% \n      5      11      26     101 2952034 \n\n\nBy applying the following code, we significantly reduce the size of the data set:\n\nTITLE_RATINGS &lt;- TITLE_RATINGS |&gt;\n    filter(numVotes &gt;= 100)\n\nThe same filtering will be applied to the other TITLE_* tables. In the following case, the semi_join is used. The semi_join returns only values which have a match, but doesn’t add columns.\n\nTITLE_BASICS &lt;- TITLE_BASICS |&gt;\n    semi_join(TITLE_RATINGS, \n              join_by(tconst == tconst))\n\nTITLE_CREW &lt;- TITLE_CREW |&gt;\n    semi_join(TITLE_RATINGS, \n              join_by(tconst == tconst))\n\nTITLE_EPISODES_1 &lt;- TITLE_EPISODES |&gt;\n    semi_join(TITLE_RATINGS, \n              join_by(tconst == tconst))\nTITLE_EPISODES_2 &lt;- TITLE_EPISODES |&gt;\n    semi_join(TITLE_RATINGS, \n              join_by(parentTconst == tconst))\n\nTITLE_EPISODES &lt;- bind_rows(TITLE_EPISODES_1,\n                            TITLE_EPISODES_2) |&gt;\n    distinct()\n\nTITLE_PRINCIPALS &lt;- TITLE_PRINCIPALS |&gt;\n  semi_join(TITLE_RATINGS, join_by(tconst == tconst))\n\n\nrm(TITLE_EPISODES_1)\nrm(TITLE_EPISODES_2)\n\nAt this point, the data has been filtered down significantly. Now, the analysis process can be started.\n\n\n\nWe will start examining our data more closely.\n\nprint(\"NAME_BASICS TABLE\")\nglimpse(NAME_BASICS)\n\nprint(\"TITLE_BASICS TABLE\")\nglimpse(TITLE_BASICS)\n\nprint(\"TITLE_CREW TABLE\")\nglimpse(TITLE_CREW)\n\nprint(\"TITLE_EPISODES TABLE\")\nglimpse(TITLE_EPISODES)\n\nprint(\"TITLE_PRINCIPALS TABLE\")\nglimpse(TITLE_PRINCIPALS)\n\nprint(\"TITLE_RATINGS TABLE\")\nglimpse(TITLE_RATINGS)\n\n\n\n\n\n\n\nTask 1: Column Type Correction (Instructor-Provided)\n\n\n\nCorrect the column types of the TITLE tables using a combination of mutate and the coercion functions as.numeric and as.logical.\n\n\n\n\n\nThe use of the glimpse function above allows us to examine each table. We can see that many columns appear to be read as character (string) vectors, even when they should be read as numeric, or numeric when they should be read as logical. This could occur because missing values are represented as \\\\N or other non numeric values. Since R does not know that these are NA values, it retains them as strings.\nTo fix these, we will use the mutate command, and the as.numeric or as.logical command to change column type as follows:\n\nNAME_BASICS &lt;- NAME_BASICS |&gt;\n    mutate(birthYear = as.numeric(birthYear),\n           deathYear = as.numeric(deathYear))\n\nprint(\"NAME_BASICS TABLE\")\nglimpse(NAME_BASICS)\n\nTITLE_BASICS &lt;- TITLE_BASICS |&gt;\n    mutate(startYear = as.numeric(startYear),\n           endYear = as.numeric(endYear),\n           runtimeMinutes = as.numeric(runtimeMinutes),\n           isAdult = as.logical(isAdult))\nprint(\"TITLE_BASICS TABLE\")\nglimpse(TITLE_BASICS)\n\n\nTITLE_EPISODES &lt;- TITLE_EPISODES |&gt;\n    mutate(seasonNumber = as.numeric(seasonNumber),\n           episodeNumber = as.numeric(episodeNumber))\n\nprint(\"TITLE_EPISODES TABLE\")\nglimpse(TITLE_EPISODES)\n\nAnother aspect of this data that we would like to address is that it combines multiple pieces of information in a single cell separated by commas. We see this in the NAME_BASICS table, where both the primaryProfession and knownForTitles columns combine multiple values.\n\nglimpse(NAME_BASICS)\n\nRows: 3,188,805\nColumns: 6\n$ nconst            &lt;chr&gt; \"nm0000001\", \"nm0000002\", \"nm0000003\", \"nm0000004\", …\n$ primaryName       &lt;chr&gt; \"Fred Astaire\", \"Lauren Bacall\", \"Brigitte Bardot\", …\n$ birthYear         &lt;dbl&gt; 1899, 1924, 1934, 1949, 1918, 1915, 1899, 1924, 1925…\n$ deathYear         &lt;dbl&gt; 1987, 2014, NA, 1982, 2007, 1982, 1957, 2004, 1984, …\n$ primaryProfession &lt;chr&gt; \"actor,miscellaneous,producer\", \"actress,soundtrack,…\n$ knownForTitles    &lt;chr&gt; \"tt0072308,tt0050419,tt0053137,tt0027125\", \"tt003738…\n\n\nWe can use the separate_longer_delim function to break these into multiple rows: for example\n\nNAME_BASICS |&gt; separate_longer_delim(knownForTitles, \",\") |&gt; slice_head(n=10)\n\n      nconst     primaryName birthYear deathYear\n1  nm0000001    Fred Astaire      1899      1987\n2  nm0000001    Fred Astaire      1899      1987\n3  nm0000001    Fred Astaire      1899      1987\n4  nm0000001    Fred Astaire      1899      1987\n5  nm0000002   Lauren Bacall      1924      2014\n6  nm0000002   Lauren Bacall      1924      2014\n7  nm0000002   Lauren Bacall      1924      2014\n8  nm0000002   Lauren Bacall      1924      2014\n9  nm0000003 Brigitte Bardot      1934        NA\n10 nm0000003 Brigitte Bardot      1934        NA\n                    primaryProfession knownForTitles\n1        actor,miscellaneous,producer      tt0072308\n2        actor,miscellaneous,producer      tt0050419\n3        actor,miscellaneous,producer      tt0053137\n4        actor,miscellaneous,producer      tt0027125\n5  actress,soundtrack,archive_footage      tt0037382\n6  actress,soundtrack,archive_footage      tt0075213\n7  actress,soundtrack,archive_footage      tt0117057\n8  actress,soundtrack,archive_footage      tt0038355\n9   actress,music_department,producer      tt0057345\n10  actress,music_department,producer      tt0049189\n\n\nTo preserve flexibility, we will not fully separate NAME_BASICS just yet, but we will need to use separate_longer_delim to answer various questions."
  },
  {
    "objectID": "mp02.html#putting-it-together",
    "href": "mp02.html#putting-it-together",
    "title": "Mini-Project #02: The Business of Show Business",
    "section": "Putting It Together",
    "text": "Putting It Together\n\n\n\n\n\n\nTask 7: Write and Deliver Your Pitch\n\n\n\nNow that you have completed your analysis, write an “elevator pitch” of approximately 200-250 words for your proposed Hollywood project. This is the pitch you will bring to the studio head (your boss); if the studio head likes your pitch, you will be given a small sum of money to start securing the story rights and locking down tentative deals with key talent.\nYour pitch needs to synthesize the analysis above into two to three quick and compelling points. (E.g., “The market for animated young adult horror musicals has grown 200% in the past decade” or “Over 90% of Director D’s movies are successes.”) You need to present the strongest argument for each element of your pitch, including genre, director, actors, and story.\nIf your boss approves the pitch, you will need to have a brief trailer ready for the next quarterly earnings call. The marketing department has asked that you prepare a classic 90’s style teaser for them. Adapt the following cliched formula for your pitch.\n\nFrom director D, the visionary mind between N1; and From actor A, beloved star of N2; and From actor A2, Hollywood icon of genre G, Comes the timeless tail N3 A story of TOPIC, TOPIC, and TOPIC Coming soon to a theater near you.\n\nIf you’re creatively-minded, you could have some fun here using Generative tools to draft a script or mock up a movie poster for your pitch."
  },
  {
    "objectID": "mp02.html#general-remarks",
    "href": "mp02.html#general-remarks",
    "title": "Mini-Project #02: The Business of Show Business",
    "section": "General Remarks",
    "text": "General Remarks\nAs you approach this project, recall there are no right or wrong answers. You are exploring data looking for exciting and actionable findings. You have several key decisions to make and you can support them with data, but the decisions are ultimately yours. This project is an exercise both in the “nuts-and-bolts” of analyzing a large data set and in using data to inform and refine what is ultimately still a “gut feeling” qualitative business decision.\n\nCredits to Michael Weylandt who provided a great part of the code for the data gathering and cleaning process."
  },
  {
    "objectID": "mp02.html#footnotes",
    "href": "mp02.html#footnotes",
    "title": "Mini-Project #02: The Business of Show Business",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nIt’s not entirely transparent who IMDb decides what projects an actor or director is “known for”. Still, it’s a reasonable filter that leaves us with more than enough to work with for this project.↩︎\nIn order to see that a movie has not been recently remade, it is sufficient to confirm that no movie has been made with the same name in the past 25 years.↩︎"
  },
  {
    "objectID": "mp02.html#task-2-instructor-provided-questions",
    "href": "mp02.html#task-2-instructor-provided-questions",
    "title": "Mini-Project #02: The Business of Show Business",
    "section": "Task 2: Instructor-Provided Questions",
    "text": "Task 2: Instructor-Provided Questions\n\nTask 2 Question 1\n\nHow many movies are in our data set? How many TV series? How many TV episodes?\n\nTo answer these questions, we will be grouping our TITLE_BASICS table by title type to count how many titles of each type there are, and then we will be filtering by the specific title type we are asked to provide. Please see code and output below:\n\nTITLE_BASICS |&gt;\n  group_by(titleType) |&gt;\n  summarise(count = n()) |&gt;\n  filter(titleType == \"movie\" | titleType == \"tvSeries\" | titleType == \"tvEpisode\")\n\n# A tibble: 3 × 2\n  titleType  count\n  &lt;chr&gt;      &lt;int&gt;\n1 movie     132220\n2 tvEpisode 156725\n3 tvSeries   29986\n\n\nFrom the table obtained, we can see that there are many more movies and TV Episodes than TV Series.\n\n\nTask 2 Question 2\n\nWho is the oldest living person in our data set?\n\nGiven the data include Hollywood personalities with birth year but no death year, I will filter by those born after 1904.\n\ncurrent_year &lt;- year(Sys.Date())\n\noldest_living_person &lt;- NAME_BASICS |&gt;\n  filter(birthYear &gt; 1904, is.na(deathYear)) |&gt;\n  arrange(birthYear) |&gt;\n  head(5) |&gt;\n  mutate(age = current_year - birthYear)\n\n\noldest_living_person\n\n     nconst       primaryName birthYear deathYear\n1 nm0007643      Julio Abadía      1905        NA\n2 nm0033860      Michael Arco      1905        NA\n3 nm0039930 Aleksandr Astafev      1905        NA\n4 nm0056586     A. Barr-Smith      1905        NA\n5 nm0081491     Max A. Bienek      1905        NA\n                  primaryProfession                           knownForTitles\n1                             actor  tt0028204,tt0182471,tt0022157,tt0216742\n2                             actor tt0052425,tt0055206,tt0051817,tt13572070\n3 cinematographer,camera_department tt0029850,tt0038888,tt21839248,tt5897294\n4          producer,director,writer  tt0175702,tt0040279,tt0160970,tt0028488\n5  art_director,production_designer  tt0053470,tt0045046,tt0222726,tt0048635\n  age\n1 119\n2 119\n3 119\n4 119\n5 119\n\n\nBased on the results, and the data that we have, we cannot definitely determine who is the oldest person alive in our data set. In the same way there are individuals in our data born in 1625 with no death year, the output received could include deceased individuals with no death year available but who are deceased. If for grading purposes I must chose one, I would say Julio Abadía is the oldest living person in our data set. Julio Abadía was born in Bogota Colombia, and is known for La Rosa de Francia.\n\n\nTask 2 Question 3\n\nThere is one TV Episode in this data set with a perfect 10/10 rating and at least 200,000 IMDb ratings. What is it? What series does it belong to?\n\nThe TV Episode with a perfect 10/10 rating and at least 200,000 votes is Ozymandias. To find this, I fully joined three tables and filtered by the parameters provided. To find which series Ozymandias belongs to, I created a column that matches the tconst of the parent to the tconst in the TITLE_BASICS table and returns the title. Thus, we can see that Ozymandias belongs to the series Breaking Bad.\nAt this point, we take note of the genres, which could give us some insight into which genra we could do a new production on.\n\nTITLE_BASICS_RATINGS_EPISODES &lt;- full_join(TITLE_BASICS, TITLE_RATINGS, join_by(tconst)) |&gt; full_join(TITLE_EPISODES, join_by(tconst))\n\nTITLE_BASICS_RATINGS_EPISODES |&gt; \n  filter(titleType == \"tvEpisode\", averageRating == 10, numVotes &gt;= 200000) |&gt;\n  mutate(parentTitle = TITLE_BASICS$originalTitle[match(parentTconst, TITLE_BASICS$tconst)]) |&gt;\n  select(-c(tconst, isAdult, endYear, primaryTitle)) |&gt;\n  head()\n\n  titleType originalTitle startYear runtimeMinutes               genres\n1 tvEpisode    Ozymandias      2013             47 Crime,Drama,Thriller\n  averageRating numVotes parentTconst seasonNumber episodeNumber  parentTitle\n1            10   229845    tt0903747            5            14 Breaking Bad\n\n\n\n\nTask 2 Question 4\n\nWhat four projects is the actor Mark Hamill most known for?\n\nThe actor Mark Hamill is most known for the four Star Wars projects listed below.\n\n#Expand the knownForTitles values into rows with a single title. I am doing this in order to match each title with its name\nNAME_BASICS &lt;- NAME_BASICS |&gt;\n  separate_longer_delim(col = knownForTitles, delim = \",\")\n\n\n#Now I can join the table above with another table containing the name of the titles. I am doing a left join to ensure I keep all data from the NAME_BASICS table regardless of there being a match or not\nNAME_TITLE_BASICS &lt;- left_join(NAME_BASICS, TITLE_BASICS, join_by(knownForTitles == tconst))|&gt;\n  rename(knownForTitle = knownForTitles)\n\n#Now, I use the newly created table to answer the question (I asked the system to give me 20 results to ensure I am not missing any titles)\nNAME_TITLE_BASICS |&gt; \n  filter(primaryName == \"Mark Hamill\") |&gt;\n  select(primaryName, titleType, originalTitle, knownForTitle, genres, startYear) |&gt;\n  head(20)\n\n  primaryName titleType                                  originalTitle\n1 Mark Hamill     movie                                      Star Wars\n2 Mark Hamill     movie        Star Wars: Episode VIII - The Last Jedi\n3 Mark Hamill     movie Star Wars: Episode V - The Empire Strikes Back\n4 Mark Hamill     movie     Star Wars: Episode VI - Return of the Jedi\n  knownForTitle                   genres startYear\n1     tt0076759 Action,Adventure,Fantasy      1977\n2     tt2527336 Action,Adventure,Fantasy      2017\n3     tt0080684 Action,Adventure,Fantasy      1980\n4     tt0086190 Action,Adventure,Fantasy      1983\n\n\nIt is interesting to see that this actor is know for four related projects (Star Wars) and that the start year of these projects span across multiple time periods.\n\n\nTask 2 Question 5\n\nWhat TV series, with more than 12 episodes, has the highest average rating?\n\nThe TV series with more than 12 episodes and the highest average rating is 20 Dakika.\n\nEpisodes_Basics_Ratings &lt;- full_join(TITLE_EPISODES, TITLE_BASICS, join_by(tconst == tconst)) |&gt;\n  full_join(TITLE_RATINGS, join_by(tconst == tconst)) |&gt;\n  mutate(parentTitle = TITLE_BASICS$originalTitle[match(parentTconst, TITLE_BASICS$tconst)])\n\nEpisodes_Basics_Ratings |&gt;\n  group_by(parentTconst) |&gt;\n  summarise(\n    Average_Rating = mean(averageRating, na.rm = TRUE),\n    Total_Episodes = n(),\n    Average_Votes = mean(numVotes)\n  ) |&gt;\n  filter(Total_Episodes &gt; 12, Average_Votes &gt;= 300) |&gt;\n  arrange(desc(Average_Rating)) |&gt;\n  mutate(parentTitle = TITLE_BASICS$originalTitle[match(parentTconst, TITLE_BASICS$tconst)]) |&gt;\n  ungroup()\n\n# A tibble: 925 × 5\n   parentTconst Average_Rating Total_Episodes Average_Votes parentTitle         \n   &lt;chr&gt;                 &lt;dbl&gt;          &lt;int&gt;         &lt;dbl&gt; &lt;chr&gt;               \n 1 tt2544148              9.65             25         1115. 20 Dakika           \n 2 tt6162588              9.58             32          912. Cesur Ve Güzel      \n 3 tt6384676              9.54             20         4187. Bu Sehir Arkandan G…\n 4 tt4312318              9.35             26         4105. Seref Meselesi      \n 5 tt3052000              9.34             54         4066. Günesi Beklerken    \n 6 tt22727518             9.3              16         7449. Bambaska Biri       \n 7 tt14899624             9.27             16         1445. Zeytin Agaci        \n 8 tt13661118             9.26             14         4409. Not Me              \n 9 tt9471962              9.18             19         4619. Halka               \n10 tt27460313             9.14             40          427. Yu Gu Yao           \n# ℹ 915 more rows\n\n#Styled with Style add in\n\nLets examine the this TV series more closely.\n\nTITLE_BASICS_RATINGS_EPISODES |&gt;\n  filter(parentTconst == \"tt2544148\") |&gt;\n  select(-c(endYear,tconst, originalTitle))\n\n   titleType          primaryTitle isAdult startYear runtimeMinutes\n1  tvEpisode            Demirbahce   FALSE      2013             NA\n2  tvEpisode             Rumelihan   FALSE      2013             NA\n3  tvEpisode        Cellat Cesmesi   FALSE      2013             NA\n4  tvEpisode            Kanli Kuyu   FALSE      2013             NA\n5  tvEpisode        Cihangir Camii   FALSE      2013             NA\n6  tvEpisode                  Vefa   FALSE      2013             NA\n7  tvEpisode                  Nika   FALSE      2013             NA\n8  tvEpisode             Kagithane   FALSE      2013             NA\n9  tvEpisode Mihrimah Sultan Camii   FALSE      2013             NA\n10 tvEpisode          Sevda Tepesi   FALSE      2013             NA\n11 tvEpisode               Tophane   FALSE      2013             NA\n12 tvEpisode            Kiz Kulesi   FALSE      2013             NA\n13 tvEpisode               Canfeda   FALSE      2013             NA\n14 tvEpisode           Kanli Cinar   FALSE      2013             NA\n15 tvEpisode         Feriye Sarayi   FALSE      2013             NA\n16 tvEpisode    Esma Sultan Yalisi   FALSE      2013             NA\n17 tvEpisode               Vanikoy   FALSE      2013             NA\n18 tvEpisode         Yildiz Sarayi   FALSE      2013             NA\n19 tvEpisode          Sahrayicedid   FALSE      2013             NA\n20 tvEpisode          Kirmizi Yali   FALSE      2013             NA\n21 tvEpisode       Agora Meyhanesi   FALSE      2013             NA\n22 tvEpisode             Eskihisar   FALSE      2013             NA\n23 tvEpisode                 Bursa   FALSE      2013             NA\n24 tvEpisode        Galata Köprüsü   FALSE      2013             NA\n25 tvEpisode              Istanbul   FALSE      2013             NA\n                 genres averageRating numVotes parentTconst seasonNumber\n1  Action,Drama,Romance           9.5     1567    tt2544148            1\n2  Action,Drama,Romance           9.6     1538    tt2544148            1\n3  Action,Drama,Romance           9.6     1273    tt2544148            1\n4  Action,Drama,Romance           9.6     1241    tt2544148            1\n5  Action,Drama,Romance           9.5     1241    tt2544148            1\n6  Action,Drama,Romance           9.4     1233    tt2544148            1\n7  Action,Drama,Romance           9.5     1304    tt2544148            1\n8  Action,Drama,Romance           9.7     1312    tt2544148            1\n9  Action,Drama,Romance           9.7     1310    tt2544148            1\n10 Action,Drama,Romance           9.7     1308    tt2544148            1\n11 Action,Drama,Romance           9.5     1045    tt2544148            1\n12 Action,Drama,Romance           9.6     1049    tt2544148            1\n13 Action,Drama,Romance           9.6     1053    tt2544148            1\n14 Action,Drama,Romance           9.6     1039    tt2544148            1\n15 Action,Drama,Romance           9.8     1063    tt2544148            1\n16 Action,Drama,Romance           9.8     1057    tt2544148            1\n17 Action,Drama,Romance           9.8     1054    tt2544148            1\n18 Action,Drama,Romance           9.6     1049    tt2544148            1\n19 Action,Drama,Romance           9.7     1049    tt2544148            1\n20 Action,Drama,Romance           9.7     1053    tt2544148            1\n21 Action,Drama,Romance           9.7     1048    tt2544148            1\n22 Action,Drama,Romance           9.7      814    tt2544148            1\n23 Action,Drama,Romance           9.7      808    tt2544148            1\n24 Action,Drama,Romance           9.8      804    tt2544148            1\n25 Action,Drama,Romance           9.8      567    tt2544148            1\n   episodeNumber\n1              1\n2              2\n3              3\n4              4\n5              5\n6              6\n7              7\n8              8\n9              9\n10            10\n11            11\n12            13\n13            14\n14            12\n15            16\n16            18\n17            19\n18            15\n19            17\n20            20\n21            21\n22            22\n23            23\n24            24\n25            25\n\n\nFrom the above, we can see that the genres are Action, Drama, and Romance. Furthermore, the start year was 2013, which is not that old. This could indicate that contemporary audience is receptive to this kind of genre combination.\n\n\nTask 2 Question 6\n\nThe TV series Happy Days (1974-1984) gives us the common idiom “jump the shark”. The phrase comes from a controversial fifth season episode (aired in 1977) in which a lead character literally jumped over a shark on water skis. Idiomatically, it is used to refer to the moment when a once-great show becomes ridiculous and rapidly looses quality.\nIs it true that episodes from later seasons of Happy Days have lower average ratings than the early seasons?\n\nLet us start by looking at the average ratings per season and the average number of votes.\n\nEpisodes_Basics_Ratings |&gt;\n  filter(titleType == \"tvEpisode\", parentTitle == \"Happy Days\") |&gt;\n  group_by(seasonNumber) |&gt;\n  summarise(Average_Rating = mean(averageRating, na.rm = TRUE),\n            Total_Episodes = n(),\n            Average_Votes = mean(numVotes)) |&gt;\n    ungroup()\n\n# A tibble: 11 × 4\n   seasonNumber Average_Rating Total_Episodes Average_Votes\n          &lt;dbl&gt;          &lt;dbl&gt;          &lt;int&gt;         &lt;dbl&gt;\n 1            1           7.58             16          229.\n 2            2           7.69             23          187.\n 3            3           7.7              24          146.\n 4            4           7.43             25          125.\n 5            5           7                24          118.\n 6            6           7.02             16          118.\n 7            7           6.33              3          103.\n 8            8           5.3               1          108 \n 9            9           6.4               1          100 \n10           10           6.7               1          114 \n11           11           7.33              3          113 \n\n\nFrom the table, we can clearly see that the average number of votes declined as seasons passed. To better visualize the relationship between the ratings and seasons we will create a linear model\n\n#Name data to be inputted into the linear model\nHappy_Days_Data &lt;- Episodes_Basics_Ratings |&gt;\n  filter(titleType == \"tvEpisode\", parentTitle == \"Happy Days\") |&gt;\n  group_by(seasonNumber) |&gt;\n  summarise(Average_Rating = mean(averageRating, na.rm = TRUE),\n            Total_Episodes = n(),\n            Average_Votes = mean(numVotes)) |&gt;\n    ungroup()\n\n#Create linear model\nlinear_model &lt;- lm(Average_Rating ~ seasonNumber, data = Happy_Days_Data)\n\n# Create graph\nif(!require(\"ggpmisc\")) install.packages(\"ggpmisc\")\n\nLoading required package: ggpmisc\n\n\nLoading required package: ggpp\n\n\nRegistered S3 methods overwritten by 'ggpp':\n  method                  from   \n  heightDetails.titleGrob ggplot2\n  widthDetails.titleGrob  ggplot2\n\n\n\nAttaching package: 'ggpp'\n\n\nThe following object is masked from 'package:ggplot2':\n\n    annotate\n\nlibrary(ggpmisc)\nggplot(Happy_Days_Data, aes(x = seasonNumber, y = Average_Rating)) +\n  geom_point() +\n  stat_poly_line(se=FALSE, color=\"black\") +\n  labs(\n    title = \"Happy Days: Average Rating by Season\",\n    x = \"Season Number\",\n    y = \"Average Rating\"\n  ) +\n  theme_classic()\n\n\n\n\n\n\n\n\nFrom the graph above, we see that episodes from later seasons of Happy Days have lower average ratings than the early seasons. However, as we saw initially, lower ratings come from a smaller number of rating votes. This could reflect lost interest due to lower quality of the series, or from many in the audience replacing this show for another one."
  },
  {
    "objectID": "mp02.html#task-3-instructor-provided-questions",
    "href": "mp02.html#task-3-instructor-provided-questions",
    "title": "Mini-Project #02: The Business of Show Business",
    "section": "Task 3: Instructor-Provided Questions",
    "text": "Task 3: Instructor-Provided Questions\nIn this section we will be creating a success metric. It will be derived solely on the data we have due to data licensing constraints.\n\nTask 3\nDesign a ‘success’ measure for IMDb entries, reflecting both quality and broad popular awareness. Implement your success metric using a mutate operator to add a new column to the TITLE_RATINGS table.\nValidate your success metric as follows (see task 3 questions and responses below).\n\n\nTask 3 Question 1\nChoose the top 5-10 movies on your metric and confirm that they were indeed box office successes.\n\n\nTask 3 Question 2\nChoose 3-5 movies with large numbers of IMDb votes that score poorly on your success metric and confirm that they are indeed of low quality.\n\n\nTask 3 Question 3\nChoose a prestige actor or director and confirm that they have many projects with high scores on your success metric.\n\n\nTask 3 Question 4\nPerform at least one other form of ‘spot check’ validation.\n\n\nTask 3 Question 5\nCome up with a numerical threshold for a project to be a ‘success’; that is, determine a value \\(v\\) such that movies above \\(v\\) are all “solid” or better.\nYou will use your success metric and threshold to complete the rest of this Mini-Project. You may, if you wish, restrict your attention to movies for the remainder of your analysis, though a good development executive should also consider making TV series.\n\n\nExamining Success by Genre and Decade\nNow that you have a working proxy for success, it’s time to look at trends in success over time. Answer the following questions. Your responses should include at least 2 graphics.\n\n\n\n\n\n\nTask 4: Trends in Success Over Time\n\n\n\nUsing questions like the following, identify a good “genre” for your next film. You do not need to answer these questions precisely, but these are may help guide your thinking.\n\nWhat was the genre with the most “successes” in each decade?\nWhat genre consistently has the most “successes”? What genre used to reliably produced “successes” and has fallen out of favor?\nWhat genre has produced the most “successes” since 2010? Does it have the highest success rate or does it only have a large number of successes because there are many productions in that genre?\nWhat genre has become more popular in recent years?\n\n\n\nBased on your findings, select a genre for your next project. Note that you may wish to avoid an “oversatured” genre; you just need to make the argument that your proposal is a good investment, not necessarily the most studio-produced focus-grouped committee-designed generic satisfying choice, so feel free to lean in to your own artistic preferences, as long as you can make an argument for them.\n\n\nSuccessful Personnel in the Genre\nNow that you have selected a target genre, identify two actors and one director who will anchor your project. You want to identify key personnel who have worked in the genre before, with at least modest success, and who have at least one major success to their credit.\nAs you develop your team, you may want to consider the following possibilities:\n\nAn older established actor and an up-and-coming actor\nAn actor/director pair who have been successful together\nAn actor/director pair who are both highly successful but have never worked together\nA pair of established actors who have had success in many genres\n\nAs you select your key personnel, consider what IMDb says they are known for; this will be useful in developing your marketing materials.\n\n\n\n\n\n\nTask 5: Key Personnel\n\n\n\nIdentify (at least) two actors and one director who you will target as the key talent for your movie. Write a short “pitch” as to why they are likely to be successful. You should support your pitch with at least one graphic and one table.\n\n\n\n\nNostalgia and Remakes\nNow that you have found a target genre and key talent for your project, you need a story. Like any good development executive, your first instinct should be to produce a remake of a classic film in the genre.\n\n\n\n\n\n\nTask 6: Finding a Classic Movie to Remake\n\n\n\nFind a classic movie to remake with your key talent. The original should have a large number of IMDb ratings, a high average rating, and not have been remade in the past 25 years.2\nOnce you have found your classic movie to remake, confirm whether key actors, directors, or writers from the original are still alive. If so, you need to contact your legal department to ensure they can secure the rights to the project. You may also want to include the classic actors as “fan service.”"
  },
  {
    "objectID": "mp02.html#task-1-column-type-correction-instructor-provided",
    "href": "mp02.html#task-1-column-type-correction-instructor-provided",
    "title": "Mini-Project #02: The Business of Show Business",
    "section": "Task 1: Column Type Correction (Instructor-Provided)",
    "text": "Task 1: Column Type Correction (Instructor-Provided)\nCorrect the column types of the TITLE tables using a combination of mutate and the coercion functions as.numeric and as.logical.\n\nTask 1: Column Type Correction\nThe use of the glimpse function above allows us to examine each table. We can see that many columns appear to be read as character (string) vectors, even when they should be read as numeric, or numeric when they should be read as logical. This could occur because missing values are represented as \\\\N or other non numeric values. Since R does not know that these are NA values, it retains them as strings.\nTo fix these, we will use the mutate command, and the as.numeric or as.logical command to change column type as follows:\n\nNAME_BASICS &lt;- NAME_BASICS |&gt;\n    mutate(birthYear = as.numeric(birthYear),\n           deathYear = as.numeric(deathYear))\n\nTITLE_BASICS &lt;- TITLE_BASICS |&gt;\n    mutate(startYear = as.numeric(startYear),\n           endYear = as.numeric(endYear),\n           runtimeMinutes = as.numeric(runtimeMinutes),\n           isAdult = as.logical(isAdult))\n\n\nTITLE_EPISODES &lt;- TITLE_EPISODES |&gt;\n    mutate(seasonNumber = as.numeric(seasonNumber),\n           episodeNumber = as.numeric(episodeNumber))\n\nAnother aspect of this data that we would like to address is that it combines multiple pieces of information in a single cell separated by commas. We see this in the NAME_BASICS table, where both the primaryProfession and knownForTitles columns combine multiple values.\n\nglimpse(NAME_BASICS)\n\nRows: 3,188,805\nColumns: 6\n$ nconst            &lt;chr&gt; \"nm0000001\", \"nm0000002\", \"nm0000003\", \"nm0000004\", …\n$ primaryName       &lt;chr&gt; \"Fred Astaire\", \"Lauren Bacall\", \"Brigitte Bardot\", …\n$ birthYear         &lt;dbl&gt; 1899, 1924, 1934, 1949, 1918, 1915, 1899, 1924, 1925…\n$ deathYear         &lt;dbl&gt; 1987, 2014, NA, 1982, 2007, 1982, 1957, 2004, 1984, …\n$ primaryProfession &lt;chr&gt; \"actor,miscellaneous,producer\", \"actress,soundtrack,…\n$ knownForTitles    &lt;chr&gt; \"tt0072308,tt0050419,tt0053137,tt0027125\", \"tt003738…\n\n\nWe can use the separate_longer_delim function to break these into multiple rows: for example\n\nNAME_BASICS |&gt; separate_longer_delim(knownForTitles, \",\") |&gt; slice_head(n = 10) |&gt; glimpse(width = 100, max.extra.cols = Inf)\n\nRows: 10\nColumns: 6\n$ nconst            &lt;chr&gt; \"nm0000001\", \"nm0000001\", \"nm0000001\", \"nm0000001\", \"nm0000002\", \"nm0000…\n$ primaryName       &lt;chr&gt; \"Fred Astaire\", \"Fred Astaire\", \"Fred Astaire\", \"Fred Astaire\", \"Lauren …\n$ birthYear         &lt;dbl&gt; 1899, 1899, 1899, 1899, 1924, 1924, 1924, 1924, 1934, 1934\n$ deathYear         &lt;dbl&gt; 1987, 1987, 1987, 1987, 2014, 2014, 2014, 2014, NA, NA\n$ primaryProfession &lt;chr&gt; \"actor,miscellaneous,producer\", \"actor,miscellaneous,producer\", \"actor,m…\n$ knownForTitles    &lt;chr&gt; \"tt0072308\", \"tt0050419\", \"tt0053137\", \"tt0027125\", \"tt0037382\", \"tt0075…\n\n\nTo preserve flexibility, we will not fully separate NAME_BASICS just yet, but we will need to use separate_longer_delim to answer various questions."
  }
]