[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MY DREAMS",
    "section": "",
    "text": "Everyone has a dream…or at least most people have one. These are some of the dreams I have:\n\n\nBuying a house\nBuying a car\nFinding a great job\nTraveling to many countries\n\n\nIn order to achieve these dreams I have taken the following actions:\n\n\nStart a MS in Statistics\nSave and invest\nRead every day\nLearn a new language\nLearn Python\nWork on communication skills\n\n\nSometimes, I need a little motivation. So I look at pictures such as this one from Porche’s web site:\\\n![](https://images-porsche.imgix.net/-/media/18BDB8E5546C4BA4A12F88891D661876_76C4D93742CD42E8BEBE222C39477D82_911-carrera-4-gts-front?w=750&q=85&auto=format)"
  },
  {
    "objectID": "mp01.html",
    "href": "mp01.html",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "This is a small project in which I explore data from the National Transit Database with the objective of finding facts and insights from the data. Instructions and further details provided by my professor Mr. Michael Weylandt, Ph.D can be found here. We will be using data such as farebox revenues, total number of trips, total number of vehicle miles traveled, and total revenues and expenses by source.\n\n\nTo start with the project, I used the following code to download the data. Here we can see some tables being created with specific columns, then these new tables are joined.\n\nlibrary(tidyverse)\nlibrary(DT)\nsetwd(\"C:/Users/MT/Desktop/R Coding/STA9750-2024-FALL\")\n\nFARES &lt;- readxl::read_xlsx(\"2022_fare_revenue.xlsx\") |&gt;\n    select(-`State/Parent NTD ID`, \n           -`Reporter Type`,\n           -`Reporting Module`,\n           -`TOS`,\n           -`Passenger Paid Fares`,\n           -`Organization Paid Fares`) |&gt;\n    filter(`Expense Type` == \"Funds Earned During Period\") |&gt;\n    select(-`Expense Type`) |&gt;\n    group_by(`NTD ID`,       # Sum over different `TOS` for the same `Mode`\n             `Agency Name`,  # These are direct operated and sub-contracted \n             `Mode`) |&gt;      # of the same transit modality\n                             # Not a big effect in most munis (significant DO\n                             # tends to get rid of sub-contractors), but we'll sum\n                             # to unify different passenger experiences\n    summarize(`Total Fares` = sum(`Total Fares`)) |&gt;\n    ungroup()\n\nEXPENSES &lt;- readr::read_csv(\"2022_expenses.csv\") |&gt;\n    select(`NTD ID`, \n           `Agency`,\n           `Total`, \n           `Mode`) |&gt;\n    mutate(`NTD ID` = as.integer(`NTD ID`)) |&gt;\n    rename(Expenses = Total) |&gt;\n    group_by(`NTD ID`, `Mode`) |&gt;\n    summarize(Expenses = sum(Expenses)) |&gt;\n    ungroup()\n\nFINANCIALS &lt;- inner_join(FARES, EXPENSES, join_by(`NTD ID`, `Mode`))\n\nTRIPS &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet = \"UPT\") |&gt;\n            filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n            select(-`Legacy NTD ID`, \n                   -`Reporter Type`, \n                   -`Mode/Type of Service Status`, \n                   -`UACE CD`, \n                   -`TOS`) |&gt;\n            pivot_longer(-c(`NTD ID`:`3 Mode`), \n                            names_to=\"month\", \n                            values_to=\"UPT\") |&gt;\n            drop_na() |&gt;\n            mutate(month=my(month)) # Parse _m_onth _y_ear date specs\nMILES &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet=\"VRM\") |&gt;\n            filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n            select(-`Legacy NTD ID`, \n                   -`Reporter Type`, \n                   -`Mode/Type of Service Status`, \n                   -`UACE CD`, \n                   -`TOS`) |&gt;\n            pivot_longer(-c(`NTD ID`:`3 Mode`), \n                            names_to=\"month\", \n                            values_to=\"VRM\") |&gt;\n            drop_na() |&gt;\n            group_by(`NTD ID`, `Agency`, `UZA Name`, \n                     `Mode`, `3 Mode`, month) |&gt;\n            summarize(VRM = sum(VRM)) |&gt;\n            ungroup() |&gt;\n            mutate(month=my(month)) # Parse _m_onth _y_ear date specs\n\nUSAGE &lt;- inner_join(TRIPS, MILES) |&gt;\n    mutate(`NTD ID` = as.integer(`NTD ID`))\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month=as.character(month)) |&gt; \n  DT::datatable()\n\n\n\n\n\n\n\n\nAfter downloading the data, the first task is to create a synthetic name. The column UZA Name was renamed as metro_area:\n\nUSAGE &lt;- USAGE |&gt; \n  rename(metro_area = `UZA Name`)\n\n\n\n\nMode column was recoded for easier understanding of data. Details obtained from here\n\nUSAGE &lt;- USAGE |&gt;\n  mutate(Mode = case_when(\n    Mode == \"AR\" ~ \"Alaska Railroad\",\n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"CC\" ~ \"Cable Car\",\n    Mode == \"CR\" ~ \"Commuter Rail\",\n    Mode == \"DR\" ~ \"Demand Response\",\n    Mode == \"FB\" ~ \"Ferryboat\",\n    Mode == \"HR\" ~ \"Heavy Rail\",\n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"LR\" ~ \"Light Rail\",\n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"MG\" ~ \"Monorail Automated Guideway\",\n    Mode == \"PB\" ~ \"Publico\",\n    Mode == \"RB\" ~ \"Bus Rapid Transit\",\n    Mode == \"SR\" ~ \"Streetcar Rail\",\n    Mode == \"TB\" ~ \"Trolleybus\",\n    Mode == \"TR\" ~ \"Aerial Tramway\",\n    Mode == \"VP\" ~ \"Vanpool\",\n    Mode == \"YR\" ~ \"Hybrid Rail\",\n    TRUE ~ \"Unknown\"\n))\n\nNow we can see a table with cleaner data:\n\nif(!require(\"DT\")) install.packages(\"DT\")\nlibrary(DT)\n\nUSAGE &lt;- USAGE |&gt; \n  select(-`3 Mode`)\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month = as.character(month)) |&gt; \n  DT::datatable()\n\n\n\n\n\n\n\n\nQ1. What transit agency had the most total VRM in our data set? The transit agency with the most total VRM (Vehicle Revenue Miles) is MTA New York City Transit with around 69 billion in total VRM.\n\nUSAGE |&gt;\n  group_by(Agency) |&gt;\n  summarise(UPT_Total = sum(UPT)) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(1) |&gt;\n  ungroup()\n\n# A tibble: 1 × 2\n  Agency                      UPT_Total\n  &lt;chr&gt;                           &lt;dbl&gt;\n1 MTA New York City Transit 69101730780\n\n\nQ2. What transit mode had the most total VRM in our data set? The transit mode with the most total VRM in our data set is bus with a total UPT (Unlinked Passenger Trips) of around 49 billion\n\nUSAGE |&gt;\n  group_by(Mode) |&gt;\n  summarise(VRM_Total = sum(VRM)) |&gt;\n  arrange(desc(VRM_Total)) |&gt;\n  head(1) |&gt;\n  ungroup()\n\n# A tibble: 1 × 2\n  Mode    VRM_Total\n  &lt;chr&gt;       &lt;dbl&gt;\n1 Bus   49444494088\n\n# The data shows bus transportation had the most vehicle revenue miles \"VRM\"\n# which is \"The miles that vehicles are scheduled to or actually travel while in revenue service\"\n# https://www.transit.dot.gov/ntd/national-transit-database-ntd-glossary#V\n\nQ3. How many trips were taken on the NYC Subway (Heavy Rail) in May 2024? A total of 186,478,364 trips were taken on the NYC subway\n\ncolnames(USAGE)\n\n[1] \"NTD ID\"     \"Agency\"     \"metro_area\" \"Mode\"       \"month\"     \n[6] \"UPT\"        \"VRM\"       \n\nnyc_filter_q3 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2024-05-01\") |&gt;\n  summarise(May_2024_Trips = sum(UPT, na.rm = TRUE))\nprint(nyc_filter_q3)\n\n# A tibble: 1 × 1\n  May_2024_Trips\n           &lt;dbl&gt;\n1      186478364\n\n\nQ4. What mode of transport had the longest average trip in May 2024? Note: This question can’t be answered with the current data\nQ5. How much did NYC subway ridership fall between April 2019 and April 2020? NYC subway ridership fell by approximately 91 during the dates indicated. This could be atributed to the Corona Virus pandemic of 2020.\n\nnyc_filter_q5_part1 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2019-04-01\") |&gt;\n  summarise(nyc_sub_2019 = sum(UPT, na.rm = TRUE))\nnyc_filter_q5_part2 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2020-04-01\") |&gt;\n  summarise(nyc_sub_2020 = sum(UPT, na.rm = TRUE))\nnyc_filter_q5_part3=((nyc_filter_q5_part2-nyc_filter_q5_part1)/(nyc_filter_q5_part1))*100\nprint(nyc_filter_q5_part3)\n\n  nyc_sub_2020\n1    -91.39649\n\n\n\n\n\nQ4.1 Which Agency has the most VRM per UPT? I chose this question because I believe this shows how efficiently an agency is using its resources. A lower Vehicle Revenue Miles to Unlinked Passenger Trips ratio would show that an Agency is able to maximize the usage of its vehicles in relation to the number of passanger trips. In this case the most efficient based on the previously mentioned definition would be New York City Department of Transportation with a ratio of .00942. However, this needs deeper analysis to determine its implications and flaws\n\nvrm_per_upt &lt;- USAGE |&gt;\n  group_by(Agency) |&gt;\n  summarise(UPT_Total = sum(UPT), VRM_Total = sum(VRM), VRM_per_UPT_ratio = (VRM_Total/UPT_Total)) |&gt;\n  ungroup() |&gt;\n  arrange(VRM_per_UPT_ratio) |&gt;\n  head(5)\n\nprint(vrm_per_upt)\n\n# A tibble: 5 × 4\n  Agency                                   UPT_Total VRM_Total VRM_per_UPT_ratio\n  &lt;chr&gt;                                        &lt;dbl&gt;     &lt;dbl&gt;             &lt;dbl&gt;\n1 New York City Department of Transportat… 440538576   4150573           0.00942\n2 Plaquemines Port, Harbor and Terminal D…   1397902     37290           0.0267 \n3 Washington State Ferries                 502394973  20230767           0.0403 \n4 Kansas City, City of Missouri             14171285   1074129           0.0758 \n5 City of Portland                          56396362   4562513           0.0809 \n\n\nQ4.2 What is the most used mode per metro area? The most used mode per metro area is the bus\n\nmost_used_mode_per_metro_area &lt;- USAGE |&gt;\n  group_by(metro_area, Mode) |&gt;\n  summarise(total_upt = sum(UPT, na.rm = TRUE), .groups = \"drop\") |&gt;\n  group_by(metro_area) |&gt;\n  slice(which.max(total_upt)) |&gt;\n  select(metro_area, Mode, total_upt)\nprint(most_used_mode_per_metro_area)\n\n# A tibble: 376 × 3\n# Groups:   metro_area [376]\n   metro_area                   Mode  total_upt\n   &lt;chr&gt;                        &lt;chr&gt;     &lt;dbl&gt;\n 1 Abilene, TX                  Bus     4811813\n 2 Akron, OH                    Bus   133397482\n 3 Albany, GA                   Bus    15828372\n 4 Albany--Schenectady, NY      Bus   312961295\n 5 Albuquerque, NM              Bus   200432456\n 6 Alexandria, LA               Bus     6168051\n 7 Allentown--Bethlehem, PA--NJ Bus   101405562\n 8 Altoona, PA                  Bus    13053250\n 9 Amarillo, TX                 Bus     4408831\n10 Ames, IA                     Bus   109854287\n# ℹ 366 more rows\n\n\nQ4.3 What are the top metro areas by mode? New York Metro area is the top area by what I consider to be the most important modes of transportation: Heavy Rail, Bus, and Commuter Rail\n\ntop_metro_areas_by_mode &lt;- USAGE |&gt;\n  group_by(Mode, metro_area) |&gt;\n  summarise(total_upt = sum(UPT, na.rm = TRUE)) |&gt;\n  group_by(Mode) |&gt;\n  slice(which.max(total_upt)) |&gt;\n  arrange(desc(total_upt))\n\nprint(top_metro_areas_by_mode)\n\n# A tibble: 18 × 3\n# Groups:   Mode [18]\n   Mode                        metro_area                              total_upt\n   &lt;chr&gt;                       &lt;chr&gt;                                       &lt;dbl&gt;\n 1 Heavy Rail                  New York--Jersey City--Newark, NY--NJ 53450544938\n 2 Bus                         New York--Jersey City--Newark, NY--NJ 23394737094\n 3 Commuter Rail               New York--Jersey City--Newark, NY--NJ  5430746046\n 4 Light Rail                  Boston, MA--NH                         1372586910\n 5 Trolleybus                  San Francisco--Oakland, CA             1345222391\n 6 Ferryboat                   New York--Jersey City--Newark, NY--NJ   556020462\n 7 Publico                     San Juan, PR                            516329565\n 8 Bus Rapid Transit           New York--Jersey City--Newark, NY--NJ   315432467\n 9 Commuter Bus                New York--Jersey City--Newark, NY--NJ   286645521\n10 Streetcar Rail              Philadelphia, PA--NJ--DE--MD            263034317\n11 Demand Response             New York--Jersey City--Newark, NY--NJ   146574222\n12 Cable Car                   San Francisco--Oakland, CA              138759762\n13 Monorail Automated Guideway Miami--Fort Lauderdale, FL              101162479\n14 Vanpool                     Seattle--Tacoma, WA                      87386804\n15 Hybrid Rail                 New York--Jersey City--Newark, NY--NJ    30022908\n16 Aerial Tramway              Portland, OR--WA                         16258014\n17 Inclined Plane              Pittsburgh, PA                           13141618\n18 Alaska Railroad             Anchorage, AK                             2938715\n\n\n\n\n\nIn this part of the project, I created a new table from USAGE that has annual total (sum) UPT and VRM for 2022\n\nUSAGE_2022_ANNUAL &lt;- USAGE |&gt;\n  filter(year(month) == \"2022\") |&gt;\n  group_by(`NTD ID`, Agency, metro_area, Mode) |&gt;\n  summarise(UPT_Total = sum(UPT, na.rm = TRUE), VRM_Total = sum(VRM, na.rm = TRUE)) |&gt;\n  ungroup()\n\nFINANCIALS &lt;- FINANCIALS |&gt;\n  mutate(Mode = case_when(\n    Mode == \"AR\" ~ \"Alaska Railroad\",\n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"CC\" ~ \"Cable Car\",\n    Mode == \"CR\" ~ \"Commuter Rail\",\n    Mode == \"DR\" ~ \"Demand Response\",\n    Mode == \"FB\" ~ \"Ferryboat\",\n    Mode == \"HR\" ~ \"Heavy Rail\",\n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"LR\" ~ \"Light Rail\",\n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"MG\" ~ \"Monorail Automated Guideway\",\n    Mode == \"PB\" ~ \"Publico\",\n    Mode == \"RB\" ~ \"Bus Rapid Transit\",\n    Mode == \"SR\" ~ \"Streetcar Rail\",\n    Mode == \"TB\" ~ \"Trolleybus\",\n    Mode == \"TR\" ~ \"Aerial Tramway\",\n    Mode == \"VP\" ~ \"Vanpool\",\n    Mode == \"YR\" ~ \"Hybrid Rail\",\n    TRUE ~ \"Unknown\"\n  ))\n\n\nUSAGE_AND_FINANCIALS &lt;- left_join(USAGE_2022_ANNUAL, FINANCIALS, \n  join_by(`NTD ID`, \"Mode\")) |&gt;\n  drop_na()\n\ncolnames(USAGE_2022_ANNUAL)\n\n[1] \"NTD ID\"     \"Agency\"     \"metro_area\" \"Mode\"       \"UPT_Total\" \n[6] \"VRM_Total\" \n\nsample_n(USAGE_2022_ANNUAL, 1141) |&gt; \n    DT::datatable()\n\n\n\n\n\n\n\n\nNote I did not restrict data to major transit systems because I was interested in seeing the results despite the size of the transit system\nQ1. Which transit system (agency and mode) had the most UPT in 2022? The transit system with the most UPT in 2022 was the MTA New York City Transit\n\nUSAGE_2022_ANNUAL |&gt;\n  group_by(Agency, Mode) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(5) |&gt;\n  ungroup()\n\n# A tibble: 5 × 6\n  `NTD ID` Agency                           metro_area Mode  UPT_Total VRM_Total\n     &lt;int&gt; &lt;chr&gt;                            &lt;chr&gt;      &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1    20008 MTA New York City Transit        New York-… Heav…    1.79e9 338199451\n2    20008 MTA New York City Transit        New York-… Bus      4.59e8  82638609\n3    90154 Los Angeles County Metropolitan… Los Angel… Bus      1.94e8 124306796\n4    50066 Chicago Transit Authority        Chicago, … Bus      1.40e8  44199272\n5    20080 New Jersey Transit Corporation   New York-… Bus      1.13e8 161834490\n\n\nQ2. Which transit system (agency and mode) had the highest farebox recovery, defined as the highest ratio of Total Fares to Expenses?\nThe Agency Transit Authority of Central Kentucky with the mode of Vanpool had the highest farebox recovery. This indicates that this agency was able to obtain more revenue relative to its expenses in comparison to other Agencies. It its interesting to see that Vanpool occupies the second and third place in this query. This might indicate that this is Mode of transportation is financially efficient\n\nhighest_farebox_recovery &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(Expenses, na.rm = TRUE))) |&gt;\n  ungroup() |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\n\nprint(highest_farebox_recovery)\n\n# A tibble: 5 × 3\n  Agency                                                        Mode      ratio\n  &lt;chr&gt;                                                         &lt;chr&gt;     &lt;dbl&gt;\n1 Transit Authority of Central Kentucky                         Vanpool    2.38\n2 County of Miami-Dade                                          Vanpool    1.67\n3 Yuma County Intergovernmental Public Transportation Authority Vanpool    1.47\n4 Port Imperial Ferry Corporation                               Ferryboat  1.43\n5 Hyannis Harbor Tours, Inc.                                    Ferryboat  1.41\n\n\nQ3. Which transit system (agency and mode) has the lowest expenses per UPT?\nNorth Carolina State University’s Bus transportation had the lowest expenses per UPT. This seems to be a transit system focusing on transportation for a university, so it might be that the low expenses derive from the relative short range of the service provided\n\nlowest_expenses_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_UPT)\n\n# A tibble: 5 × 3\n  Agency                          Mode           ratio\n  &lt;chr&gt;                           &lt;chr&gt;          &lt;dbl&gt;\n1 North Carolina State University Bus             1.18\n2 Anaheim Transportation Network  Bus             1.28\n3 Valley Metro Rail, Inc.         Streetcar Rail  1.49\n4 University of Iowa              Bus             1.54\n5 Chatham Area Transit Authority  Ferryboat       1.60\n\n\nQ4. Which transit system (agency and mode) has the highest total fares per UPT?\nThe Altoona Metro Transit Demand Response transportation had the highest total fares per UPT\n\nhighest_total_fares_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_total_fares_per_UPT) \n\n# A tibble: 5 × 3\n  Agency                                        Mode            ratio\n  &lt;chr&gt;                                         &lt;chr&gt;           &lt;dbl&gt;\n1 Altoona Metro Transit                         Demand Response 660. \n2 Alaska Railroad Corporation                   Alaska Railroad 153. \n3 Bay State LLC                                 Ferryboat        65.0\n4 Central Pennsylvania Transportation Authority Demand Response  50.2\n5 Hampton Jitney, Inc.                          Commuter Bus     41.3\n\n\nQ5. Which transit system (agency and mode) has the lowest expenses per VRM?\nNew Mexico Department of Transportation Vanpool mode had the lowest expense per VRM. That same mode is in the next 4 spots of our results. This indicates that Vanpool could be transportation mode that does not require or demands a lot of expenses.\n\nlowest_expenses_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_VRM)\n\n# A tibble: 5 × 3\n  Agency                                           Mode    ratio\n  &lt;chr&gt;                                            &lt;chr&gt;   &lt;dbl&gt;\n1 New Mexico Department of Transportation          Vanpool 0.337\n2 VIA Metropolitan Transit                         Vanpool 0.370\n3 County of Miami-Dade                             Vanpool 0.386\n4 County of Volusia                                Vanpool 0.393\n5 Corpus Christi Regional Transportation Authority Vanpool 0.431\n\n\nQ6. Which transit system (agency and mode) has the highest total fares per VRM?\nChicago Water Taxi (Wendella) Ferryboat transportation had the highest total fares per VRM. This might reflect the fact that expenses and mainteinance for this mode of transportation is higher\n\nhighest_fares_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_fares_per_VRM)\n\n# A tibble: 5 × 3\n  Agency                                             Mode            ratio\n  &lt;chr&gt;                                              &lt;chr&gt;           &lt;dbl&gt;\n1 Chicago Water Taxi (Wendella)                      Ferryboat        237.\n2 Altoona Metro Transit                              Demand Response  229.\n3 Jacksonville Transportation Authority              Ferryboat        158.\n4 Chattanooga Area Regional Transportation Authority Inclined Plane   149.\n5 Hyannis Harbor Tours, Inc.                         Ferryboat        138.\n\n\n\n\n\nFarebox recovery rate for the Transit Authority of Central Kentucky, and more specifically the Vanpool mode seems to be great. There should be a deeper investigation into why this is, and how this transportation mode can be escalated to serve more people, or how Vanpool transportation mode’s characteristics can be leveraged for other transportation modes to achieve such recovery rates"
  },
  {
    "objectID": "mp01.html#preparing-the-data",
    "href": "mp01.html#preparing-the-data",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "To start with the project, I used the following code to download the data. Here we can see some tables being created with specific columns, then these new tables are joined.\n\nlibrary(tidyverse)\nlibrary(DT)\nsetwd(\"C:/Users/MT/Desktop/R Coding/STA9750-2024-FALL\")\n\nFARES &lt;- readxl::read_xlsx(\"2022_fare_revenue.xlsx\") |&gt;\n    select(-`State/Parent NTD ID`, \n           -`Reporter Type`,\n           -`Reporting Module`,\n           -`TOS`,\n           -`Passenger Paid Fares`,\n           -`Organization Paid Fares`) |&gt;\n    filter(`Expense Type` == \"Funds Earned During Period\") |&gt;\n    select(-`Expense Type`) |&gt;\n    group_by(`NTD ID`,       # Sum over different `TOS` for the same `Mode`\n             `Agency Name`,  # These are direct operated and sub-contracted \n             `Mode`) |&gt;      # of the same transit modality\n                             # Not a big effect in most munis (significant DO\n                             # tends to get rid of sub-contractors), but we'll sum\n                             # to unify different passenger experiences\n    summarize(`Total Fares` = sum(`Total Fares`)) |&gt;\n    ungroup()\n\nEXPENSES &lt;- readr::read_csv(\"2022_expenses.csv\") |&gt;\n    select(`NTD ID`, \n           `Agency`,\n           `Total`, \n           `Mode`) |&gt;\n    mutate(`NTD ID` = as.integer(`NTD ID`)) |&gt;\n    rename(Expenses = Total) |&gt;\n    group_by(`NTD ID`, `Mode`) |&gt;\n    summarize(Expenses = sum(Expenses)) |&gt;\n    ungroup()\n\nFINANCIALS &lt;- inner_join(FARES, EXPENSES, join_by(`NTD ID`, `Mode`))\n\nTRIPS &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet = \"UPT\") |&gt;\n            filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n            select(-`Legacy NTD ID`, \n                   -`Reporter Type`, \n                   -`Mode/Type of Service Status`, \n                   -`UACE CD`, \n                   -`TOS`) |&gt;\n            pivot_longer(-c(`NTD ID`:`3 Mode`), \n                            names_to=\"month\", \n                            values_to=\"UPT\") |&gt;\n            drop_na() |&gt;\n            mutate(month=my(month)) # Parse _m_onth _y_ear date specs\nMILES &lt;- readxl::read_xlsx(\"ridership.xlsx\", sheet=\"VRM\") |&gt;\n            filter(`Mode/Type of Service Status` == \"Active\") |&gt;\n            select(-`Legacy NTD ID`, \n                   -`Reporter Type`, \n                   -`Mode/Type of Service Status`, \n                   -`UACE CD`, \n                   -`TOS`) |&gt;\n            pivot_longer(-c(`NTD ID`:`3 Mode`), \n                            names_to=\"month\", \n                            values_to=\"VRM\") |&gt;\n            drop_na() |&gt;\n            group_by(`NTD ID`, `Agency`, `UZA Name`, \n                     `Mode`, `3 Mode`, month) |&gt;\n            summarize(VRM = sum(VRM)) |&gt;\n            ungroup() |&gt;\n            mutate(month=my(month)) # Parse _m_onth _y_ear date specs\n\nUSAGE &lt;- inner_join(TRIPS, MILES) |&gt;\n    mutate(`NTD ID` = as.integer(`NTD ID`))\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month=as.character(month)) |&gt; \n  DT::datatable()"
  },
  {
    "objectID": "mp01.html#creating-syntatic-names",
    "href": "mp01.html#creating-syntatic-names",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "After downloading the data, the first task is to create a synthetic name. The column UZA Name was renamed as metro_area:\n{r echo=TRUE, warning=FALSE, message=FALSE}\nUSAGE &lt;- USAGE |&gt; \n  rename(metro_area = `UZA Name`)"
  },
  {
    "objectID": "mp01.html#task-1-creating-syntatic-names",
    "href": "mp01.html#task-1-creating-syntatic-names",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "After downloading the data, the first task is to create a synthetic name. The column UZA Name was renamed as metro_area:\n\nUSAGE &lt;- USAGE |&gt; \n  rename(metro_area = `UZA Name`)"
  },
  {
    "objectID": "mp01.html#task-2-recoding-the-mode-column",
    "href": "mp01.html#task-2-recoding-the-mode-column",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Mode column was recoded for easier understanding of data. Details obtained from here\n\nUSAGE &lt;- USAGE |&gt;\n  mutate(Mode = case_when(\n    Mode == \"AR\" ~ \"Alaska Railroad\",\n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"CC\" ~ \"Cable Car\",\n    Mode == \"CR\" ~ \"Commuter Rail\",\n    Mode == \"DR\" ~ \"Demand Response\",\n    Mode == \"FB\" ~ \"Ferryboat\",\n    Mode == \"HR\" ~ \"Heavy Rail\",\n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"LR\" ~ \"Light Rail\",\n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"MG\" ~ \"Monorail Automated Guideway\",\n    Mode == \"PB\" ~ \"Publico\",\n    Mode == \"RB\" ~ \"Bus Rapid Transit\",\n    Mode == \"SR\" ~ \"Streetcar Rail\",\n    Mode == \"TB\" ~ \"Trolleybus\",\n    Mode == \"TR\" ~ \"Aerial Tramway\",\n    Mode == \"VP\" ~ \"Vanpool\",\n    Mode == \"YR\" ~ \"Hybrid Rail\",\n    TRUE ~ \"Unknown\"\n))\n\nNow we can see a table with cleaner data:\n\nif(!require(\"DT\")) install.packages(\"DT\")\nlibrary(DT)\n\nUSAGE &lt;- USAGE |&gt; \n  select(-`3 Mode`)\n\nsample_n(USAGE, 1000) |&gt; \n  mutate(month = as.character(month)) |&gt; \n  DT::datatable()"
  },
  {
    "objectID": "mp01.html#task-3-answering-instructor-specified-questions-with-dplyr",
    "href": "mp01.html#task-3-answering-instructor-specified-questions-with-dplyr",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Q1. What transit agency had the most total VRM in our data set? The transit agency with the most total VRM (Vehicle Revenue Miles) is MTA New York City Transit with around 69 billion in total VRM.\n\nUSAGE |&gt;\n  group_by(Agency) |&gt;\n  summarise(UPT_Total = sum(UPT)) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(1) |&gt;\n  ungroup()\n\n# A tibble: 1 × 2\n  Agency                      UPT_Total\n  &lt;chr&gt;                           &lt;dbl&gt;\n1 MTA New York City Transit 69101730780\n\n\nQ2. What transit mode had the most total VRM in our data set? The transit mode with the most total VRM in our data set is bus with a total UPT (Unlinked Passenger Trips) of around 49 billion\n\nUSAGE |&gt;\n  group_by(Mode) |&gt;\n  summarise(VRM_Total = sum(VRM)) |&gt;\n  arrange(desc(VRM_Total)) |&gt;\n  head(1) |&gt;\n  ungroup()\n\n# A tibble: 1 × 2\n  Mode    VRM_Total\n  &lt;chr&gt;       &lt;dbl&gt;\n1 Bus   49444494088\n\n# The data shows bus transportation had the most vehicle revenue miles \"VRM\"\n# which is \"The miles that vehicles are scheduled to or actually travel while in revenue service\"\n# https://www.transit.dot.gov/ntd/national-transit-database-ntd-glossary#V\n\nQ3. How many trips were taken on the NYC Subway (Heavy Rail) in May 2024? A total of 186,478,364 trips were taken on the NYC subway\n\ncolnames(USAGE)\n\n[1] \"NTD ID\"     \"Agency\"     \"metro_area\" \"Mode\"       \"month\"     \n[6] \"UPT\"        \"VRM\"       \n\nnyc_filter_q3 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2024-05-01\") |&gt;\n  summarise(May_2024_Trips = sum(UPT, na.rm = TRUE))\nprint(nyc_filter_q3)\n\n# A tibble: 1 × 1\n  May_2024_Trips\n           &lt;dbl&gt;\n1      186478364\n\n\nQ4. What mode of transport had the longest average trip in May 2024? Note: This question can’t be answered with the current data\nQ5. How much did NYC subway ridership fall between April 2019 and April 2020? NYC subway ridership fell by approximately 91 during the dates indicated. This could be atributed to the Corona Virus pandemic of 2020.\n\nnyc_filter_q5_part1 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2019-04-01\") |&gt;\n  summarise(nyc_sub_2019 = sum(UPT, na.rm = TRUE))\nnyc_filter_q5_part2 &lt;- USAGE |&gt;\n  filter(metro_area == \"New York--Jersey City--Newark, NY--NJ\", Mode == \"Heavy Rail\", month == \"2020-04-01\") |&gt;\n  summarise(nyc_sub_2020 = sum(UPT, na.rm = TRUE))\nnyc_filter_q5_part3=((nyc_filter_q5_part2-nyc_filter_q5_part1)/(nyc_filter_q5_part1))*100\nprint(nyc_filter_q5_part3)\n\n  nyc_sub_2020\n1    -91.39649"
  },
  {
    "objectID": "mp01.html#task-4-explore-and-analyze-find-three-more-interesting-transit-facts-in-this-data-other-than-those-above.",
    "href": "mp01.html#task-4-explore-and-analyze-find-three-more-interesting-transit-facts-in-this-data-other-than-those-above.",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Q4.1 Which Agency has the most VRM per UPT? I chose this question because I believe this shows how efficiently an agency is using its resources. A lower Vehicle Revenue Miles to Unlinked Passenger Trips ratio would show that an Agency is able to maximize the usage of its vehicles in relation to the number of passanger trips. In this case the most efficient based on the previously mentioned definition would be New York City Department of Transportation with a ratio of .00942. However, this needs deeper analysis to determine its implications and flaws\n\nvrm_per_upt &lt;- USAGE |&gt;\n  group_by(Agency) |&gt;\n  summarise(UPT_Total = sum(UPT), VRM_Total = sum(VRM), VRM_per_UPT_ratio = (VRM_Total/UPT_Total)) |&gt;\n  ungroup() |&gt;\n  arrange(VRM_per_UPT_ratio) |&gt;\n  head(5)\n\nprint(vrm_per_upt)\n\n# A tibble: 5 × 4\n  Agency                                   UPT_Total VRM_Total VRM_per_UPT_ratio\n  &lt;chr&gt;                                        &lt;dbl&gt;     &lt;dbl&gt;             &lt;dbl&gt;\n1 New York City Department of Transportat… 440538576   4150573           0.00942\n2 Plaquemines Port, Harbor and Terminal D…   1397902     37290           0.0267 \n3 Washington State Ferries                 502394973  20230767           0.0403 \n4 Kansas City, City of Missouri             14171285   1074129           0.0758 \n5 City of Portland                          56396362   4562513           0.0809 \n\n\nQ4.2 What is the most used mode per metro area? The most used mode per metro area is the bus\n\nmost_used_mode_per_metro_area &lt;- USAGE |&gt;\n  group_by(metro_area, Mode) |&gt;\n  summarise(total_upt = sum(UPT, na.rm = TRUE), .groups = \"drop\") |&gt;\n  group_by(metro_area) |&gt;\n  slice(which.max(total_upt)) |&gt;\n  select(metro_area, Mode, total_upt)\nprint(most_used_mode_per_metro_area)\n\n# A tibble: 376 × 3\n# Groups:   metro_area [376]\n   metro_area                   Mode  total_upt\n   &lt;chr&gt;                        &lt;chr&gt;     &lt;dbl&gt;\n 1 Abilene, TX                  Bus     4811813\n 2 Akron, OH                    Bus   133397482\n 3 Albany, GA                   Bus    15828372\n 4 Albany--Schenectady, NY      Bus   312961295\n 5 Albuquerque, NM              Bus   200432456\n 6 Alexandria, LA               Bus     6168051\n 7 Allentown--Bethlehem, PA--NJ Bus   101405562\n 8 Altoona, PA                  Bus    13053250\n 9 Amarillo, TX                 Bus     4408831\n10 Ames, IA                     Bus   109854287\n# ℹ 366 more rows\n\n\nQ4.3 What are the top metro areas by mode? New York Metro area is the top area by what I consider to be the most important modes of transportation: Heavy Rail, Bus, and Commuter Rail\n\ntop_metro_areas_by_mode &lt;- USAGE |&gt;\n  group_by(Mode, metro_area) |&gt;\n  summarise(total_upt = sum(UPT, na.rm = TRUE)) |&gt;\n  group_by(Mode) |&gt;\n  slice(which.max(total_upt)) |&gt;\n  arrange(desc(total_upt))\n\nprint(top_metro_areas_by_mode)\n\n# A tibble: 18 × 3\n# Groups:   Mode [18]\n   Mode                        metro_area                              total_upt\n   &lt;chr&gt;                       &lt;chr&gt;                                       &lt;dbl&gt;\n 1 Heavy Rail                  New York--Jersey City--Newark, NY--NJ 53450544938\n 2 Bus                         New York--Jersey City--Newark, NY--NJ 23394737094\n 3 Commuter Rail               New York--Jersey City--Newark, NY--NJ  5430746046\n 4 Light Rail                  Boston, MA--NH                         1372586910\n 5 Trolleybus                  San Francisco--Oakland, CA             1345222391\n 6 Ferryboat                   New York--Jersey City--Newark, NY--NJ   556020462\n 7 Publico                     San Juan, PR                            516329565\n 8 Bus Rapid Transit           New York--Jersey City--Newark, NY--NJ   315432467\n 9 Commuter Bus                New York--Jersey City--Newark, NY--NJ   286645521\n10 Streetcar Rail              Philadelphia, PA--NJ--DE--MD            263034317\n11 Demand Response             New York--Jersey City--Newark, NY--NJ   146574222\n12 Cable Car                   San Francisco--Oakland, CA              138759762\n13 Monorail Automated Guideway Miami--Fort Lauderdale, FL              101162479\n14 Vanpool                     Seattle--Tacoma, WA                      87386804\n15 Hybrid Rail                 New York--Jersey City--Newark, NY--NJ    30022908\n16 Aerial Tramway              Portland, OR--WA                         16258014\n17 Inclined Plane              Pittsburgh, PA                           13141618\n18 Alaska Railroad             Anchorage, AK                             2938715"
  },
  {
    "objectID": "mp01.html#task-5-table-summarization",
    "href": "mp01.html#task-5-table-summarization",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "In this part of the project, I created a new table from USAGE that has annual total (sum) UPT and VRM for 2022\n\nUSAGE_2022_ANNUAL &lt;- USAGE |&gt;\n  filter(year(month) == \"2022\") |&gt;\n  group_by(`NTD ID`, Agency, metro_area, Mode) |&gt;\n  summarise(UPT_Total = sum(UPT, na.rm = TRUE), VRM_Total = sum(VRM, na.rm = TRUE)) |&gt;\n  ungroup()\n\nFINANCIALS &lt;- FINANCIALS |&gt;\n  mutate(Mode = case_when(\n    Mode == \"AR\" ~ \"Alaska Railroad\",\n    Mode == \"CB\" ~ \"Commuter Bus\",\n    Mode == \"CC\" ~ \"Cable Car\",\n    Mode == \"CR\" ~ \"Commuter Rail\",\n    Mode == \"DR\" ~ \"Demand Response\",\n    Mode == \"FB\" ~ \"Ferryboat\",\n    Mode == \"HR\" ~ \"Heavy Rail\",\n    Mode == \"IP\" ~ \"Inclined Plane\",\n    Mode == \"LR\" ~ \"Light Rail\",\n    Mode == \"MB\" ~ \"Bus\",\n    Mode == \"MG\" ~ \"Monorail Automated Guideway\",\n    Mode == \"PB\" ~ \"Publico\",\n    Mode == \"RB\" ~ \"Bus Rapid Transit\",\n    Mode == \"SR\" ~ \"Streetcar Rail\",\n    Mode == \"TB\" ~ \"Trolleybus\",\n    Mode == \"TR\" ~ \"Aerial Tramway\",\n    Mode == \"VP\" ~ \"Vanpool\",\n    Mode == \"YR\" ~ \"Hybrid Rail\",\n    TRUE ~ \"Unknown\"\n  ))\n\n\nUSAGE_AND_FINANCIALS &lt;- left_join(USAGE_2022_ANNUAL, FINANCIALS, \n  join_by(`NTD ID`, \"Mode\")) |&gt;\n  drop_na()\n\ncolnames(USAGE_2022_ANNUAL)\n\n[1] \"NTD ID\"     \"Agency\"     \"metro_area\" \"Mode\"       \"UPT_Total\" \n[6] \"VRM_Total\" \n\nsample_n(USAGE_2022_ANNUAL, 1141) |&gt; \n    DT::datatable()"
  },
  {
    "objectID": "mp01.html#task-6-farebox-recovery-among-major-systems",
    "href": "mp01.html#task-6-farebox-recovery-among-major-systems",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Note I did not restrict data to major transit systems because I was interested in seeing the results despite the size of the transit system\nQ1. Which transit system (agency and mode) had the most UPT in 2022? The transit system with the most UPT in 2022 was the MTA New York City Transit\n{r echo=TRUE, warning=FALSE, message=FALSE}\nUSAGE_2022_ANNUAL |&gt;\n  group_by(Agency, Mode) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(5) |&gt;\n  ungroup()\n\nQ2. Which transit system (agency and mode) had the highest farebox recovery, defined as the highest ratio of Total Fares to Expenses?\nThe Agency Transit Authority of Central Kentucky with the mode of Vanpool had the highest farebox recovery. This indicates that this agency was able to obtain more revenue relative to its expenses in comparison to other Agencies. It its interesting to see that Vanpool occupies the second and third place in this query. This might indicate that this is Mode of transportation is financially efficient\n{r echo=TRUE, warning=FALSE, message=FALSE}\nhighest_farebox_recovery &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(Expenses, na.rm = TRUE))) |&gt;\n  ungroup() |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\n\nprint(highest_farebox_recovery)\n\nQ3. Which transit system (agency and mode) has the lowest expenses per UPT?\nNorth Carolina State University’s Bus transportation had the lowest expenses per UPT. This seems to be a transit system focusing on transportation for a university, so it might be that the low expenses derive from the relative short range of the service provided\n{r echo=TRUE, warning=FALSE, message=FALSE}\nlowest_expenses_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_UPT)\n\nQ4. Which transit system (agency and mode) has the highest total fares per UPT?\nThe Altoona Metro Transit Demand Response transportation had the highest total fares per UPT\n{r echo=TRUE, warning=FALSE, message=FALSE}\nhighest_total_fares_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_total_fares_per_UPT) \n\nQ5. Which transit system (agency and mode) has the lowest expenses per VRM?\nNew Mexico Department of Transportation Vanpool mode had the lowest expense per VRM. That same mode is in the next 4 spots of our results. This indicates that Vanpool could be transportation mode that does not require or demands a lot of expenses.\n{r echo=TRUE, warning=FALSE, message=FALSE}\nlowest_expenses_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_VRM)\n\nQ6. Which transit system (agency and mode) has the highest total fares per VRM?\nChicago Water Taxi (Wendella) Ferryboat transportation had the highest total fares per VRM. This might reflect the fact that expenses and mainteinance for this mode of transportation is higher\n{r echo=TRUE, warning=FALSE, message=FALSE}\nhighest_fares_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_fares_per_VRM)\n\n##Conclusion"
  },
  {
    "objectID": "mp01.html#task-6-farebox-recovery-among-all-systems",
    "href": "mp01.html#task-6-farebox-recovery-among-all-systems",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Note I did not restrict data to major transit systems because I was interested in seeing the results despite the size of the transit system\nQ1. Which transit system (agency and mode) had the most UPT in 2022? The transit system with the most UPT in 2022 was the MTA New York City Transit\n\nUSAGE_2022_ANNUAL |&gt;\n  group_by(Agency, Mode) |&gt;\n  arrange(desc(UPT_Total)) |&gt;\n  head(5) |&gt;\n  ungroup()\n\n# A tibble: 5 × 6\n  `NTD ID` Agency                           metro_area Mode  UPT_Total VRM_Total\n     &lt;int&gt; &lt;chr&gt;                            &lt;chr&gt;      &lt;chr&gt;     &lt;dbl&gt;     &lt;dbl&gt;\n1    20008 MTA New York City Transit        New York-… Heav…    1.79e9 338199451\n2    20008 MTA New York City Transit        New York-… Bus      4.59e8  82638609\n3    90154 Los Angeles County Metropolitan… Los Angel… Bus      1.94e8 124306796\n4    50066 Chicago Transit Authority        Chicago, … Bus      1.40e8  44199272\n5    20080 New Jersey Transit Corporation   New York-… Bus      1.13e8 161834490\n\n\nQ2. Which transit system (agency and mode) had the highest farebox recovery, defined as the highest ratio of Total Fares to Expenses?\nThe Agency Transit Authority of Central Kentucky with the mode of Vanpool had the highest farebox recovery. This indicates that this agency was able to obtain more revenue relative to its expenses in comparison to other Agencies. It its interesting to see that Vanpool occupies the second and third place in this query. This might indicate that this is Mode of transportation is financially efficient\n\nhighest_farebox_recovery &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(Expenses, na.rm = TRUE))) |&gt;\n  ungroup() |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\n\nprint(highest_farebox_recovery)\n\n# A tibble: 5 × 3\n  Agency                                                        Mode      ratio\n  &lt;chr&gt;                                                         &lt;chr&gt;     &lt;dbl&gt;\n1 Transit Authority of Central Kentucky                         Vanpool    2.38\n2 County of Miami-Dade                                          Vanpool    1.67\n3 Yuma County Intergovernmental Public Transportation Authority Vanpool    1.47\n4 Port Imperial Ferry Corporation                               Ferryboat  1.43\n5 Hyannis Harbor Tours, Inc.                                    Ferryboat  1.41\n\n\nQ3. Which transit system (agency and mode) has the lowest expenses per UPT?\nNorth Carolina State University’s Bus transportation had the lowest expenses per UPT. This seems to be a transit system focusing on transportation for a university, so it might be that the low expenses derive from the relative short range of the service provided\n\nlowest_expenses_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_UPT)\n\n# A tibble: 5 × 3\n  Agency                          Mode           ratio\n  &lt;chr&gt;                           &lt;chr&gt;          &lt;dbl&gt;\n1 North Carolina State University Bus             1.18\n2 Anaheim Transportation Network  Bus             1.28\n3 Valley Metro Rail, Inc.         Streetcar Rail  1.49\n4 University of Iowa              Bus             1.54\n5 Chatham Area Transit Authority  Ferryboat       1.60\n\n\nQ4. Which transit system (agency and mode) has the highest total fares per UPT?\nThe Altoona Metro Transit Demand Response transportation had the highest total fares per UPT\n\nhighest_total_fares_per_UPT &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(UPT_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_total_fares_per_UPT) \n\n# A tibble: 5 × 3\n  Agency                                        Mode            ratio\n  &lt;chr&gt;                                         &lt;chr&gt;           &lt;dbl&gt;\n1 Altoona Metro Transit                         Demand Response 660. \n2 Alaska Railroad Corporation                   Alaska Railroad 153. \n3 Bay State LLC                                 Ferryboat        65.0\n4 Central Pennsylvania Transportation Authority Demand Response  50.2\n5 Hampton Jitney, Inc.                          Commuter Bus     41.3\n\n\nQ5. Which transit system (agency and mode) has the lowest expenses per VRM?\nNew Mexico Department of Transportation Vanpool mode had the lowest expense per VRM. That same mode is in the next 4 spots of our results. This indicates that Vanpool could be transportation mode that does not require or demands a lot of expenses.\n\nlowest_expenses_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(Expenses, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(ratio) |&gt;\n  head(5)\nprint(lowest_expenses_per_VRM)\n\n# A tibble: 5 × 3\n  Agency                                           Mode    ratio\n  &lt;chr&gt;                                            &lt;chr&gt;   &lt;dbl&gt;\n1 New Mexico Department of Transportation          Vanpool 0.337\n2 VIA Metropolitan Transit                         Vanpool 0.370\n3 County of Miami-Dade                             Vanpool 0.386\n4 County of Volusia                                Vanpool 0.393\n5 Corpus Christi Regional Transportation Authority Vanpool 0.431\n\n\nQ6. Which transit system (agency and mode) has the highest total fares per VRM?\nChicago Water Taxi (Wendella) Ferryboat transportation had the highest total fares per VRM. This might reflect the fact that expenses and mainteinance for this mode of transportation is higher\n\nhighest_fares_per_VRM &lt;- USAGE_AND_FINANCIALS |&gt;\n  group_by(Agency, Mode) |&gt;\n  summarise(ratio = (sum(`Total Fares`, na.rm = TRUE)/sum(VRM_Total, na.rm = TRUE)),.groups = \"drop\") |&gt;\n  arrange(desc(ratio)) |&gt;\n  head(5)\nprint(highest_fares_per_VRM)\n\n# A tibble: 5 × 3\n  Agency                                             Mode            ratio\n  &lt;chr&gt;                                              &lt;chr&gt;           &lt;dbl&gt;\n1 Chicago Water Taxi (Wendella)                      Ferryboat        237.\n2 Altoona Metro Transit                              Demand Response  229.\n3 Jacksonville Transportation Authority              Ferryboat        158.\n4 Chattanooga Area Regional Transportation Authority Inclined Plane   149.\n5 Hyannis Harbor Tours, Inc.                         Ferryboat        138."
  },
  {
    "objectID": "mp01.html#conclusion",
    "href": "mp01.html#conclusion",
    "title": "Mini-Project #01: Fiscal Characteristics of Major US Public Transit Systems",
    "section": "",
    "text": "Farebox recovery rate for the Transit Authority of Central Kentucky, and more specifically the Vanpool mode seems to be great. There should be a deeper investigation into why this is, and how this transportation mode can be escalated to serve more people, or how Vanpool transportation mode’s characteristics can be leveraged for other transportation modes to achieve such recovery rates"
  }
]